/*! PhotoSwipe - v4.1.2 - 2017-04-05
* http://photoswipe.com
* Copyright (c) 2017 Dmitry Semenov; */
!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipe=b()}(this,function(){"use strict";var a=function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?"remove":"add")+"EventListener";b=b.split(" ");for(var f=0;f<b.length;f++)b[f]&&a[e](b[f],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){e.bind(a,b,c,!0)},removeClass:function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){e.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(e.hasClass(c,b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var d=a.length;d--;)if(a[d][c]===b)return d;return-1},extend:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(c&&a.hasOwnProperty(d))continue;a[d]=b[d]}},easing:{sine:{out:function(a){return Math.sin(a*(Math.PI/2))},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(e.features)return e.features;var a=e.createEl(),b=a.style,c="",d={};if(d.oldIE=document.all&&!document.addEventListener,d.touch="ontouchstart"in window,window.requestAnimationFrame&&(d.raf=window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!d.pointerEvent){var f=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var g=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);g&&g.length>0&&(g=parseInt(g[1],10),g>=1&&g<8&&(d.isOldIOSPhone=!0))}var h=f.match(/Android\s([0-9\.]*)/),i=h?h[1]:0;i=parseFloat(i),i>=1&&(i<4.4&&(d.isOldAndroid=!0),d.androidVersion=i),d.isMobileOpera=/opera mini|opera mobi/i.test(f)}for(var j,k,l=["transform","perspective","animationName"],m=["","webkit","Moz","ms","O"],n=0;n<4;n++){c=m[n];for(var o=0;o<3;o++)j=l[o],k=c+(c?j.charAt(0).toUpperCase()+j.slice(1):j),!d[j]&&k in b&&(d[j]=k);c&&!d.raf&&(c=c.toLowerCase(),d.raf=window[c+"RequestAnimationFrame"],d.raf&&(d.caf=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]))}if(!d.raf){var p=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+c)},c);return p=b+c,d},d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,e.features=d,d}};e.detectFeatures(),e.features.oldIE&&(e.bind=function(a,b,c,d){b=b.split(" ");for(var e,f=(d?"detach":"attach")+"Event",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if("object"==typeof c&&c.handleEvent){if(d){if(!c["oldIE"+e])return!1}else c["oldIE"+e]=g;a[f]("on"+e,c["oldIE"+e])}else a[f]("on"+e,c)});var f=this,g=25,h=3,i={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:b.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};e.extend(i,d);var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma=function(){return{x:0,y:0}},na=ma(),oa=ma(),pa=ma(),qa={},ra=0,sa={},ta=ma(),ua=0,va=!0,wa=[],xa={},ya=!1,za=function(a,b){e.extend(f,b.publicMethods),wa.push(a)},Aa=function(a){var b=ac();return a>b-1?a-b:a<0?b+a:a},Ba={},Ca=function(a,b){return Ba[a]||(Ba[a]=[]),Ba[a].push(b)},Da=function(a){var b=Ba[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<b.length;d++)b[d].apply(f,c)}},Ea=function(){return(new Date).getTime()},Fa=function(a){ja=a,f.bg.style.opacity=a*i.bgOpacity},Ga=function(a,b,c,d,e){(!ya||e&&e!==f.currItem)&&(d/=e?e.fitRatio:f.currItem.fitRatio),a[E]=u+b+"px, "+c+"px"+v+" scale("+d+")"},Ha=function(a){ea&&(a&&(s>f.currItem.fitRatio?ya||(mc(f.currItem,!1,!0),ya=!0):ya&&(mc(f.currItem),ya=!1)),Ga(ea,pa.x,pa.y,s))},Ia=function(a){a.container&&Ga(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Ja=function(a,b){b[E]=u+a+"px, 0px"+v},Ka=function(a,b){if(!i.loop&&b){var c=m+(ta.x*ra-a)/ta.x,d=Math.round(a-tb.x);(c<0&&d>0||c>=ac()-1&&d<0)&&(a=tb.x+d*i.mainScrollEndFriction)}tb.x=a,Ja(a,n)},La=function(a,b){var c=ub[a]-sa[a];return oa[a]+na[a]+c-c*(b/t)},Ma=function(a,b){a.x=b.x,a.y=b.y,b.id&&(a.id=b.id)},Na=function(a){a.x=Math.round(a.x),a.y=Math.round(a.y)},Oa=null,Pa=function(){Oa&&(e.unbind(document,"mousemove",Pa),e.addClass(a,"pswp--has_mouse"),i.mouseUsed=!0,Da("mouseUsed")),Oa=setTimeout(function(){Oa=null},100)},Qa=function(){e.bind(document,"keydown",f),N.transform&&e.bind(f.scrollWrap,"click",f),i.mouseUsed||e.bind(document,"mousemove",Pa),e.bind(window,"resize scroll orientationchange",f),Da("bindEvents")},Ra=function(){e.unbind(window,"resize scroll orientationchange",f),e.unbind(window,"scroll",r.scroll),e.unbind(document,"keydown",f),e.unbind(document,"mousemove",Pa),N.transform&&e.unbind(f.scrollWrap,"click",f),V&&e.unbind(window,p,f),clearTimeout(O),Da("unbindEvents")},Sa=function(a,b){var c=ic(f.currItem,qa,a);return b&&(da=c),c},Ta=function(a){return a||(a=f.currItem),a.initialZoomLevel},Ua=function(a){return a||(a=f.currItem),a.w>0?i.maxSpreadZoom:1},Va=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],!0):(c[a]=La(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]&&(c[a]=b.max[a],!0))},Wa=function(){if(E){var b=N.perspective&&!G;return u="translate"+(b?"3d(":"("),void(v=N.perspective?", 0px)":")")}E="left",e.addClass(a,"pswp--ie"),Ja=function(a,b){b.left=a+"px"},Ia=function(a){var b=a.fitRatio>1?1:a.fitRatio,c=a.container.style,d=b*a.w,e=b*a.h;c.width=d+"px",c.height=e+"px",c.left=a.initialPosition.x+"px",c.top=a.initialPosition.y+"px"},Ha=function(){if(ea){var a=ea,b=f.currItem,c=b.fitRatio>1?1:b.fitRatio,d=c*b.w,e=c*b.h;a.width=d+"px",a.height=e+"px",a.left=pa.x+"px",a.top=pa.y+"px"}}},Xa=function(a){var b="";i.escKey&&27===a.keyCode?b="close":i.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Ya=function(a){a&&(Y||X||fa||T)&&(a.preventDefault(),a.stopPropagation())},Za=function(){f.setScrollOffset(0,e.getScrollY())},$a={},_a=0,ab=function(a){$a[a]&&($a[a].raf&&I($a[a].raf),_a--,delete $a[a])},bb=function(a){$a[a]&&ab(a),$a[a]||(_a++,$a[a]={})},cb=function(){for(var a in $a)$a.hasOwnProperty(a)&&ab(a)},db=function(a,b,c,d,e,f,g){var h,i=Ea();bb(a);var j=function(){if($a[a]){if(h=Ea()-i,h>=d)return ab(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),$a[a].raf=H(j)}};j()},eb={shout:Da,listen:Ca,viewportSize:qa,options:i,isMainScrollAnimating:function(){return fa},getZoomLevel:function(){return s},getCurrentIndex:function(){return m},isDragging:function(){return V},isZooming:function(){return aa},setScrollOffset:function(a,b){sa.x=a,M=sa.y=b,Da("updateScrollOffset",sa)},applyZoomPan:function(a,b,c,d){pa.x=b,pa.y=c,s=a,Ha(d)},init:function(){if(!j&&!k){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,"pswp__bg"),J=a.className,j=!0,N=e.detectFeatures(),H=N.raf,I=N.caf,E=N.transform,L=N.oldIE,f.scrollWrap=e.getChildByClass(a,"pswp__scroll-wrap"),f.container=e.getChildByClass(f.scrollWrap,"pswp__container"),n=f.container.style,f.itemHolders=y=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display="none",Wa(),r={resize:f.updateSize,orientationchange:function(){clearTimeout(O),O=setTimeout(function(){qa.x!==f.scrollWrap.clientWidth&&f.updateSize()},500)},scroll:Za,keydown:Xa,click:Ya};var d=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!d||(i.showAnimationDuration=i.hideAnimationDuration=0),c=0;c<wa.length;c++)f["init"+wa[c]]();if(b){var g=f.ui=new b(f,e);g.init()}Da("firstUpdate"),m=m||i.index||0,(isNaN(m)||m<0||m>=ac())&&(m=0),f.currItem=_b(m),(N.isOldIOSPhone||N.isOldAndroid)&&(va=!1),a.setAttribute("aria-hidden","false"),i.modal&&(va?a.style.position="fixed":(a.style.position="absolute",a.style.top=e.getScrollY()+"px")),void 0===M&&(Da("initialLayout"),M=K=e.getScrollY());var l="pswp--open ";for(i.mainClass&&(l+=i.mainClass+" "),i.showHideOpacity&&(l+="pswp--animate_opacity "),l+=G?"pswp--touch":"pswp--notouch",l+=N.animationName?" pswp--css_animation":"",l+=N.svg?" pswp--svg":"",e.addClass(a,l),f.updateSize(),o=-1,ua=null,c=0;c<h;c++)Ja((c+o)*ta.x,y[c].el.style);L||e.bind(f.scrollWrap,q,f),Ca("initialZoomInEnd",function(){f.setContent(y[0],m-1),f.setContent(y[2],m+1),y[0].el.style.display=y[2].el.style.display="block",i.focus&&a.focus(),Qa()}),f.setContent(y[1],m),f.updateCurrItem(),Da("afterInit"),va||(w=setInterval(function(){_a||V||aa||s!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),e.addClass(a,"pswp--visible")}},close:function(){j&&(j=!1,k=!0,Da("close"),Ra(),cc(f.currItem,null,!0,f.destroy))},destroy:function(){Da("destroy"),Xb&&clearTimeout(Xb),a.setAttribute("aria-hidden","true"),a.className=J,w&&clearInterval(w),e.unbind(f.scrollWrap,q,f),e.unbind(window,"scroll",f),zb(),cb(),Ba=null},panTo:function(a,b,c){c||(a>da.min.x?a=da.min.x:a<da.max.x&&(a=da.max.x),b>da.min.y?b=da.min.y:b<da.max.y&&(b=da.max.y)),pa.x=a,pa.y=b,Ha()},handleEvent:function(a){a=a||window.event,r[a.type]&&r[a.type](a)},goTo:function(a){a=Aa(a);var b=a-m;ua=b,m=a,f.currItem=_b(m),ra-=b,Ka(ta.x*ra),cb(),fa=!1,f.updateCurrItem()},next:function(){f.goTo(m+1)},prev:function(){f.goTo(m-1)},updateCurrZoomItem:function(a){if(a&&Da("beforeChange",0),y[1].el.children.length){var b=y[1].el.children[0];ea=e.hasClass(b,"pswp__zoom-wrap")?b.style:null}else ea=null;da=f.currItem.bounds,t=s=f.currItem.initialZoomLevel,pa.x=da.center.x,pa.y=da.center.y,a&&Da("afterChange")},invalidateCurrItems:function(){x=!0;for(var a=0;a<h;a++)y[a].item&&(y[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==ua){var b,c=Math.abs(ua);if(!(a&&c<2)){f.currItem=_b(m),ya=!1,Da("beforeChange",ua),c>=h&&(o+=ua+(ua>0?-h:h),c=h);for(var d=0;d<c;d++)ua>0?(b=y.shift(),y[h-1]=b,o++,Ja((o+2)*ta.x,b.el.style),f.setContent(b,m-c+d+1+1)):(b=y.pop(),y.unshift(b),o--,Ja(o*ta.x,b.el.style),f.setContent(b,m+c-d-1-1));if(ea&&1===Math.abs(ua)){var e=_b(z);e.initialZoomLevel!==s&&(ic(e,qa),mc(e),Ia(e))}ua=0,f.updateCurrZoomItem(),z=m,Da("afterChange")}}},updateSize:function(b){if(!va&&i.modal){var c=e.getScrollY();if(M!==c&&(a.style.top=c+"px",M=c),!b&&xa.x===window.innerWidth&&xa.y===window.innerHeight)return;xa.x=window.innerWidth,xa.y=window.innerHeight,a.style.height=xa.y+"px"}if(qa.x=f.scrollWrap.clientWidth,qa.y=f.scrollWrap.clientHeight,Za(),ta.x=qa.x+Math.round(qa.x*i.spacing),ta.y=qa.y,Ka(ta.x*ra),Da("beforeResize"),void 0!==o){for(var d,g,j,k=0;k<h;k++)d=y[k],Ja((k+o)*ta.x,d.el.style),j=m+k-1,i.loop&&ac()>2&&(j=Aa(j)),g=_b(j),g&&(x||g.needsUpdate||!g.bounds)?(f.cleanSlide(g),f.setContent(d,j),1===k&&(f.currItem=g,f.updateCurrZoomItem(!0)),g.needsUpdate=!1):d.index===-1&&j>=0&&f.setContent(d,j),g&&g.container&&(ic(g,qa),mc(g),Ia(g));x=!1}t=s=f.currItem.initialZoomLevel,da=f.currItem.bounds,da&&(pa.x=da.center.x,pa.y=da.center.y,Ha(!0)),Da("resize")},zoomTo:function(a,b,c,d,f){b&&(t=s,ub.x=Math.abs(b.x)-pa.x,ub.y=Math.abs(b.y)-pa.y,Ma(oa,pa));var g=Sa(a,!1),h={};Va("x",g,h,a),Va("y",g,h,a);var i=s,j={x:pa.x,y:pa.y};Na(h);var k=function(b){1===b?(s=a,pa.x=h.x,pa.y=h.y):(s=(a-i)*b+i,pa.x=(h.x-j.x)*b+j.x,pa.y=(h.y-j.y)*b+j.y),f&&f(b),Ha(1===b)};c?db("customZoomTo",0,1,c,d||e.easing.sine.inOut,k):k(1)}},fb=30,gb=10,hb={},ib={},jb={},kb={},lb={},mb=[],nb={},ob=[],pb={},qb=0,rb=ma(),sb=0,tb=ma(),ub=ma(),vb=ma(),wb=function(a,b){return a.x===b.x&&a.y===b.y},xb=function(a,b){return Math.abs(a.x-b.x)<g&&Math.abs(a.y-b.y)<g},yb=function(a,b){return pb.x=Math.abs(a.x-b.x),pb.y=Math.abs(a.y-b.y),Math.sqrt(pb.x*pb.x+pb.y*pb.y)},zb=function(){Z&&(I(Z),Z=null)},Ab=function(){V&&(Z=H(Ab),Qb())},Bb=function(){return!("fit"===i.scaleMode&&s===f.currItem.initialZoomLevel)},Cb=function(a,b){return!(!a||a===document)&&(!(a.getAttribute("class")&&a.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(b(a)?a:Cb(a.parentNode,b)))},Db={},Eb=function(a,b){return Db.prevent=!Cb(a.target,i.isClickableElement),Da("preventDragEvent",a,b,Db),Db.prevent},Fb=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Gb=function(a,b,c){c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y)},Hb=function(a,b,c){if(a-Q>50){var d=ob.length>2?ob.shift():{};d.x=b,d.y=c,ob.push(d),Q=a}},Ib=function(){var a=pa.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(qa.y/2))},Jb={},Kb={},Lb=[],Mb=function(a){for(;Lb.length>0;)Lb.pop();return F?(la=0,mb.forEach(function(a){0===la?Lb[0]=a:1===la&&(Lb[1]=a),la++})):a.type.indexOf("touch")>-1?a.touches&&a.touches.length>0&&(Lb[0]=Fb(a.touches[0],Jb),a.touches.length>1&&(Lb[1]=Fb(a.touches[1],Kb))):(Jb.x=a.pageX,Jb.y=a.pageY,Jb.id="",Lb[0]=Jb),Lb},Nb=function(a,b){var c,d,e,g,h=0,j=pa[a]+b[a],k=b[a]>0,l=tb.x+b.x,m=tb.x-nb.x;return c=j>da.min[a]||j<da.max[a]?i.panEndFriction:1,j=pa[a]+b[a]*c,!i.allowPanToNext&&s!==f.currItem.initialZoomLevel||(ea?"h"!==ga||"x"!==a||X||(k?(j>da.min[a]&&(c=i.panEndFriction,h=da.min[a]-j,d=da.min[a]-oa[a]),(d<=0||m<0)&&ac()>1?(g=l,m<0&&l>nb.x&&(g=nb.x)):da.min.x!==da.max.x&&(e=j)):(j<da.max[a]&&(c=i.panEndFriction,h=j-da.max[a],d=oa[a]-da.max[a]),(d<=0||m>0)&&ac()>1?(g=l,m>0&&l<nb.x&&(g=nb.x)):da.min.x!==da.max.x&&(e=j))):g=l,"x"!==a)?void(fa||$||s>f.currItem.fitRatio&&(pa[a]+=b[a]*c)):(void 0!==g&&(Ka(g,!0),$=g!==nb.x),da.min.x!==da.max.x&&(void 0!==e?pa.x=e:$||(pa.x+=b.x*c)),void 0!==g)},Ob=function(a){if(!("mousedown"===a.type&&a.button>0)){if($b)return void a.preventDefault();if(!U||"mousedown"!==a.type){if(Eb(a,!0)&&a.preventDefault(),Da("pointerDown"),F){var b=e.arraySearch(mb,a.pointerId,"id");b<0&&(b=mb.length),mb[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}var c=Mb(a),d=c.length;_=null,cb(),V&&1!==d||(V=ha=!0,e.bind(window,p,f),S=ka=ia=T=$=Y=W=X=!1,ga=null,Da("firstTouchStart",c),Ma(oa,pa),na.x=na.y=0,Ma(kb,c[0]),Ma(lb,kb),nb.x=ta.x*ra,ob=[{x:kb.x,y:kb.y}],Q=P=Ea(),Sa(s,!0),zb(),Ab()),!aa&&d>1&&!fa&&!$&&(t=s,X=!1,aa=W=!0,na.y=na.x=0,Ma(oa,pa),Ma(hb,c[0]),Ma(ib,c[1]),Gb(hb,ib,vb),ub.x=Math.abs(vb.x)-pa.x,ub.y=Math.abs(vb.y)-pa.y,ba=ca=yb(hb,ib))}}},Pb=function(a){if(a.preventDefault(),F){var b=e.arraySearch(mb,a.pointerId,"id");if(b>-1){var c=mb[b];c.x=a.pageX,c.y=a.pageY}}if(V){var d=Mb(a);if(ga||Y||aa)_=d;else if(tb.x!==ta.x*ra)ga="h";else{var f=Math.abs(d[0].x-kb.x)-Math.abs(d[0].y-kb.y);Math.abs(f)>=gb&&(ga=f>0?"h":"v",_=d)}}},Qb=function(){if(_){var a=_.length;if(0!==a)if(Ma(hb,_[0]),jb.x=hb.x-kb.x,jb.y=hb.y-kb.y,aa&&a>1){if(kb.x=hb.x,kb.y=hb.y,!jb.x&&!jb.y&&wb(_[1],ib))return;Ma(ib,_[1]),X||(X=!0,Da("zoomGestureStarted"));var b=yb(hb,ib),c=Vb(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ka=!0);var d=1,e=Ta(),g=Ua();if(c<e)if(i.pinchToClose&&!ka&&t<=f.currItem.initialZoomLevel){var h=e-c,j=1-h/(e/1.2);Fa(j),Da("onPinchClose",j),ia=!0}else d=(e-c)/e,d>1&&(d=1),c=e-d*(e/3);else c>g&&(d=(c-g)/(6*e),d>1&&(d=1),c=g+d*e);d<0&&(d=0),ba=b,Gb(hb,ib,rb),na.x+=rb.x-vb.x,na.y+=rb.y-vb.y,Ma(vb,rb),pa.x=La("x",c),pa.y=La("y",c),S=c>s,s=c,Ha()}else{if(!ga)return;if(ha&&(ha=!1,Math.abs(jb.x)>=gb&&(jb.x-=_[0].x-lb.x),Math.abs(jb.y)>=gb&&(jb.y-=_[0].y-lb.y)),kb.x=hb.x,kb.y=hb.y,0===jb.x&&0===jb.y)return;if("v"===ga&&i.closeOnVerticalDrag&&!Bb()){na.y+=jb.y,pa.y+=jb.y;var k=Ib();return T=!0,Da("onVerticalDrag",k),Fa(k),void Ha()}Hb(Ea(),hb.x,hb.y),Y=!0,da=f.currItem.bounds;var l=Nb("x",jb);l||(Nb("y",jb),Na(pa),Ha())}}},Rb=function(a){if(N.isOldAndroid){if(U&&"mouseup"===a.type)return;a.type.indexOf("touch")>-1&&(clearTimeout(U),U=setTimeout(function(){U=0},600))}Da("pointerUp"),Eb(a,!1)&&a.preventDefault();var b;if(F){var c=e.arraySearch(mb,a.pointerId,"id");if(c>-1)if(b=mb.splice(c,1)[0],navigator.pointerEnabled)b.type=a.pointerType||"mouse";else{var d={4:"mouse",2:"touch",3:"pen"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||"mouse")}}var g,h=Mb(a),j=h.length;if("mouseup"===a.type&&(j=0),2===j)return _=null,!0;1===j&&Ma(lb,h[0]),0!==j||ga||fa||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),Da("touchRelease",a,b));var k=-1;if(0===j&&(V=!1,e.unbind(window,p,f),zb(),aa?k=0:sb!==-1&&(k=Ea()-sb)),sb=1===j?Ea():-1,g=k!==-1&&k<150?"zoom":"swipe",aa&&j<2&&(aa=!1,1===j&&(g="zoomPointerUp"),Da("zoomGestureEnded")),_=null,Y||X||fa||T)if(cb(),R||(R=Sb()),R.calculateSwipeSpeed("x"),T){var l=Ib();if(l<i.verticalDragRange)f.close();else{var m=pa.y,n=ja;db("verticalDrag",0,1,300,e.easing.cubic.out,function(a){pa.y=(f.currItem.initialPosition.y-m)*a+m,Fa((1-n)*a+n),Ha()}),Da("onVerticalDrag",1)}}else{if(($||fa)&&0===j){var o=Ub(g,R);if(o)return;g="zoomPointerUp"}if(!fa)return"swipe"!==g?void Wb():void(!$&&s>f.currItem.fitRatio&&Tb(R))}},Sb=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(d){ob.length>1?(a=Ea()-Q+50,b=ob[ob.length-2][d]):(a=Ea()-P,b=lb[d]),c.lastFlickOffset[d]=kb[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickDist[d]>20?c.lastFlickSpeed[d]=c.lastFlickOffset[d]/a:c.lastFlickSpeed[d]=0,Math.abs(c.lastFlickSpeed[d])<.1&&(c.lastFlickSpeed[d]=0),c.slowDownRatio[d]=.95,c.slowDownRatioReverse[d]=1-c.slowDownRatio[d],c.speedDecelerationRatio[d]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(pa[a]>da.min[a]?c.backAnimDestination[a]=da.min[a]:pa[a]<da.max[a]&&(c.backAnimDestination[a]=da.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],c.speedDecelerationRatioAbs[a]<.05&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,db("bounceZoomPan"+a,pa[a],c.backAnimDestination[a],b||300,e.easing.sine.out,function(b){pa[a]=b,Ha()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]=c.speedDecelerationRatio[a]*(c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10),c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,pa[a]+=c.distanceOffset[a])},panAnimLoop:function(){if($a.zoomPan&&($a.zoomPan.raf=H(c.panAnimLoop),c.now=Ea(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),Ha(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),c.speedDecelerationRatioAbs.x<.05&&c.speedDecelerationRatioAbs.y<.05))return pa.x=Math.round(pa.x),pa.y=Math.round(pa.y),Ha(),void ab("zoomPan")}};return c},Tb=function(a){return a.calculateSwipeSpeed("y"),da=f.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},Math.abs(a.lastFlickSpeed.x)<=.05&&Math.abs(a.lastFlickSpeed.y)<=.05?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0):(bb("zoomPan"),a.lastNow=Ea(),void a.panAnimLoop())},Ub=function(a,b){var c;fa||(qb=m);var d;if("swipe"===a){var g=kb.x-lb.x,h=b.lastFlickDist.x<10;g>fb&&(h||b.lastFlickOffset.x>20)?d=-1:g<-fb&&(h||b.lastFlickOffset.x<-20)&&(d=1)}var j;d&&(m+=d,m<0?(m=i.loop?ac()-1:0,j=!0):m>=ac()&&(m=i.loop?0:ac()-1,j=!0),j&&!i.loop||(ua+=d,ra-=d,c=!0));var k,l=ta.x*ra,n=Math.abs(l-tb.x);return c||l>tb.x==b.lastFlickSpeed.x>0?(k=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,k=Math.min(k,400),k=Math.max(k,250)):k=333,qb===m&&(c=!1),fa=!0,Da("mainScrollAnimStart"),db("mainScroll",tb.x,l,k,e.easing.cubic.out,Ka,function(){cb(),fa=!1,qb=-1,(c||qb!==m)&&f.updateCurrItem(),Da("mainScrollAnimComplete")}),c&&f.updateCurrItem(!0),c},Vb=function(a){return 1/ca*a*t},Wb=function(){var a=s,b=Ta(),c=Ua();s<b?a=b:s>c&&(a=c);var d,g=1,h=ja;return ia&&!S&&!ka&&s<b?(f.close(),!0):(ia&&(d=function(a){Fa((g-h)*a+h)}),f.zoomTo(a,0,200,e.easing.cubic.out,d),!0)};za("Gestures",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){A=a+b,B=a+c,C=a+d,D=e?a+e:""};F=N.pointerEvent,F&&N.touch&&(N.touch=!1),F?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):N.touch?(a("touch","start","move","end","cancel"),G=!0):a("mouse","down","move","up"),p=B+" "+C+" "+D,q=A,F&&!G&&(G=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=G,r[A]=Ob,r[B]=Pb,r[C]=Rb,D&&(r[D]=r[C]),N.touch&&(q+=" mousedown",p+=" mousemove mouseup",r.mousedown=r[A],r.mousemove=r[B],r.mouseup=r[C]),G||(i.allowPanToNext=!1)}}});var Xb,Yb,Zb,$b,_b,ac,bc,cc=function(b,c,d,g){Xb&&clearTimeout(Xb),$b=!0,Zb=!0;var h;b.initialLayout?(h=b.initialLayout,b.initialLayout=null):h=i.getThumbBoundsFn&&i.getThumbBoundsFn(m);var j=d?i.hideAnimationDuration:i.showAnimationDuration,k=function(){ab("initialZoom"),d?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(Fa(1),c&&(c.style.display="block"),e.addClass(a,"pswp--animated-in"),Da("initialZoom"+(d?"OutEnd":"InEnd"))),g&&g(),$b=!1};if(!j||!h||void 0===h.x)return Da("initialZoom"+(d?"Out":"In")),s=b.initialZoomLevel,Ma(pa,b.initialPosition),Ha(),a.style.opacity=d?0:1,Fa(1),void(j?setTimeout(function(){k()},j):k());var n=function(){var c=l,g=!f.currItem.src||f.currItem.loadError||i.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility="hidden"),d||(s=h.w/b.w,pa.x=h.x,pa.y=h.y-K,f[g?"template":"bg"].style.opacity=.001,Ha()),bb("initialZoom"),d&&!c&&e.removeClass(a,"pswp--animated-in"),g&&(d?e[(c?"remove":"add")+"Class"](a,"pswp--animate_opacity"):setTimeout(function(){e.addClass(a,"pswp--animate_opacity")},30)),Xb=setTimeout(function(){if(Da("initialZoom"+(d?"Out":"In")),d){var f=h.w/b.w,i={x:pa.x,y:pa.y},l=s,m=ja,n=function(b){1===b?(s=f,pa.x=h.x,pa.y=h.y-M):(s=(f-l)*b+l,pa.x=(h.x-i.x)*b+i.x,pa.y=(h.y-M-i.y)*b+i.y),Ha(),g?a.style.opacity=1-b:Fa(m-b*m)};c?db("initialZoom",0,1,j,e.easing.cubic.out,n,k):(n(1),Xb=setTimeout(k,j+20))}else s=b.initialZoomLevel,Ma(pa,b.initialPosition),Ha(),Fa(1),g?a.style.opacity=1:Fa(1),Xb=setTimeout(k,j+20)},d?25:90)};n()},dc={},ec=[],fc={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Yb.length}},gc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},hc=function(a,b,c){var d=a.bounds;d.center.x=Math.round((dc.x-b)/2),d.center.y=Math.round((dc.y-c)/2)+a.vGap.top,d.max.x=b>dc.x?Math.round(dc.x-b):d.center.x,d.max.y=c>dc.y?Math.round(dc.y-c)+a.vGap.top:d.center.y,d.min.x=b>dc.x?0:d.center.x,d.min.y=c>dc.y?a.vGap.top:d.center.y},ic=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Da("parseVerticalMargin",a)),dc.x=b.x,dc.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=dc.x/a.w,f=dc.y/a.h;a.fitRatio=e<f?e:f;var g=i.scaleMode;"orig"===g?c=1:"fit"===g&&(c=a.fitRatio),c>1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=gc())}if(!c)return;return hc(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=gc(),a.initialPosition=a.bounds.center,a.bounds},jc=function(a,b,c,d,e,g){b.loadError||d&&(b.imageAppended=!0,mc(b,d,b===f.currItem&&ya),c.appendChild(d),g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500))},kc=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl("pswp__img","img"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},lc=function(a,b){if(a.src&&a.loadError&&a.container)return b&&(a.container.innerHTML=""),a.container.innerHTML=i.errorMsg.replace("%url%",a.src),!0},mc=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio),e=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+"px",a.placeholder.style.height=e+"px"),b.style.width=d+"px",b.style.height=e+"px"}},nc=function(){if(ec.length){for(var a,b=0;b<ec.length;b++)a=ec[b],a.holder.index===a.index&&jc(a.index,a.item,a.baseDiv,a.img,!1,a.clearPlaceholder);ec=[]}};za("Controller",{publicMethods:{lazyLoadItem:function(a){a=Aa(a);var b=_b(a);b&&(!b.loaded&&!b.loading||x)&&(Da("gettingData",a,b),b.src&&kc(b))},initController:function(){e.extend(i,fc,!0),f.items=Yb=c,_b=f.getItemAt,ac=i.getNumItemsFn,bc=i.loop,ac()<3&&(i.loop=!1),Ca("beforeChange",function(a){var b,c=i.preload,d=null===a||a>=0,e=Math.min(c[0],ac()),g=Math.min(c[1],ac());for(b=1;b<=(d?g:e);b++)f.lazyLoadItem(m+b);for(b=1;b<=(d?e:g);b++)f.lazyLoadItem(m-b)}),Ca("initialLayout",function(){f.currItem.initialLayout=i.getThumbBoundsFn&&i.getThumbBoundsFn(m)}),Ca("mainScrollAnimComplete",nc),Ca("initialZoomInEnd",nc),Ca("destroy",function(){for(var a,b=0;b<Yb.length;b++)a=Yb[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);ec=null})},getItemAt:function(a){return a>=0&&(void 0!==Yb[a]&&Yb[a])},allowProgressiveImg:function(){return i.forceProgressiveLoading||!G||i.mouseUsed||screen.width>1200},setContent:function(a,b){i.loop&&(b=Aa(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,g=f.getItemAt(b);if(!g)return void(a.el.innerHTML="");Da("gettingData",b,g),a.index=b,a.item=g;var h=g.container=e.createEl("pswp__zoom-wrap");if(!g.src&&g.html&&(g.html.tagName?h.appendChild(g.html):h.innerHTML=g.html),lc(g),ic(g,qa),!g.src||g.loadError||g.loaded)g.src&&!g.loadError&&(d=e.createEl("pswp__img","img"),d.style.opacity=1,d.src=g.src,mc(g,d),jc(b,g,h,d,!0));else{if(g.loadComplete=function(c){if(j){if(a&&a.index===b){if(lc(c,!0))return c.loadComplete=c.img=null,ic(c,qa),Ia(c),void(a.index===m&&f.updateCurrZoomItem());c.imageAppended?!$b&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):N.transform&&(fa||$b)?ec.push({item:c,baseDiv:h,img:c.img,index:b,holder:a,clearPlaceholder:!0}):jc(b,c,h,c.img,fa||$b,!0)}c.loadComplete=null,c.img=null,Da("imageLoadComplete",b,c)}},e.features.transform){var k="pswp__img pswp__img--placeholder";k+=g.msrc?"":" pswp__img--placeholder--blank";var l=e.createEl(k,g.msrc?"img":"");g.msrc&&(l.src=g.msrc),mc(g,l),h.appendChild(l),g.placeholder=l}g.loading||kc(g),f.allowProgressiveImg()&&(!Zb&&N.transform?ec.push({item:g,baseDiv:h,img:g.img,index:b,holder:a}):jc(b,g,h,g.img,!0,!0))}Zb||b!==m?Ia(g):(ea=h.style,cc(g,d||g.img)),a.el.innerHTML="",a.el.appendChild(h)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var oc,pc={},qc=function(a,b,c){var d=document.createEvent("CustomEvent"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"};d.initCustomEvent("pswpTap",!0,!0,e),a.target.dispatchEvent(d)};za("Tap",{publicMethods:{initTap:function(){Ca("firstTouchStart",f.onTapStart),Ca("touchRelease",f.onTapRelease),Ca("destroy",function(){pc={},oc=null})},onTapStart:function(a){a.length>1&&(clearTimeout(oc),oc=null)},onTapRelease:function(a,b){if(b&&!Y&&!W&&!_a){var c=b;if(oc&&(clearTimeout(oc),oc=null,xb(c,pc)))return void Da("doubleTap",c);if("mouse"===b.type)return void qc(a,b,"mouse");var d=a.target.tagName.toUpperCase();if("BUTTON"===d||e.hasClass(a.target,"pswp__single-tap"))return void qc(a,b);Ma(pc,c),oc=setTimeout(function(){qc(a,b),oc=null},300)}}}});var rc;za("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(G?Ca("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){rc={};var c="wheel mousewheel DOMMouseScroll";Ca("bindEvents",function(){e.bind(a,c,f.handleMouseWheel)}),Ca("unbindEvents",function(){rc&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,"pswp--zoomed-in"),f.mouseZoomedIn=!1),s<1?e.addClass(a,"pswp--zoom-allowed"):e.removeClass(a,"pswp--zoom-allowed"),h()},h=function(){d&&(e.removeClass(a,"pswp--dragging"),d=!1)};Ca("resize",g),Ca("afterChange",g),Ca("pointerDown",function(){f.mouseZoomedIn&&(d=!0,e.addClass(a,"pswp--dragging"))}),Ca("pointerUp",h),b||g()},handleMouseWheel:function(a){if(s<=f.currItem.fitRatio)return i.modal&&(!i.closeOnScroll||_a||V?a.preventDefault():E&&Math.abs(a.deltaY)>2&&(l=!0,f.close())),!0;if(a.stopPropagation(),rc.x=0,"deltaX"in a)1===a.deltaMode?(rc.x=18*a.deltaX,rc.y=18*a.deltaY):(rc.x=a.deltaX,rc.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(rc.x=-.16*a.wheelDeltaX),a.wheelDeltaY?rc.y=-.16*a.wheelDeltaY:rc.y=-.16*a.wheelDelta;else{if(!("detail"in a))return;rc.y=a.detail}Sa(s,!0);var b=pa.x-rc.x,c=pa.y-rc.y;(i.modal||b<=da.min.x&&b>=da.max.x&&c<=da.min.y&&c>=da.max.y)&&a.preventDefault(),f.panTo(b,c)},toggleDesktopZoom:function(b){b=b||{x:qa.x/2+sa.x,y:qa.y/2+sa.y};var c=i.getDoubleTapZoom(!0,f.currItem),d=s===c;f.mouseZoomedIn=!d,f.zoomTo(d?f.currItem.initialZoomLevel:c,b,333),e[(d?"remove":"add")+"Class"](a,"pswp--zoomed-in")}}});var sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec={history:!0,galleryUID:1},Fc=function(){return Cc.hash.substring(1)},Gc=function(){sc&&clearTimeout(sc),uc&&clearTimeout(uc)},Hc=function(){var a=Fc(),b={};if(a.length<5)return b;var c,d=a.split("&");for(c=0;c<d.length;c++)if(d[c]){var e=d[c].split("=");e.length<2||(b[e[0]]=e[1])}if(i.galleryPIDs){var f=b.pid;for(b.pid=0,c=0;c<Yb.length;c++)if(Yb[c].pid===f){b.pid=c;break}}else b.pid=parseInt(b.pid,10)-1;return b.pid<0&&(b.pid=0),b},Ic=function(){if(uc&&clearTimeout(uc),_a||V)return void(uc=setTimeout(Ic,500));vc?clearTimeout(tc):vc=!0;var a=m+1,b=_b(m);b.hasOwnProperty("pid")&&(a=b.pid);var c=yc+"&gid="+i.galleryUID+"&pid="+a;zc||Cc.hash.indexOf(c)===-1&&(Bc=!0);var d=Cc.href.split("#")[0]+"#"+c;Dc?"#"+c!==window.location.hash&&history[zc?"replaceState":"pushState"]("",document.title,d):zc?Cc.replace(d):Cc.hash=c,zc=!0,tc=setTimeout(function(){vc=!1},60)};za("History",{publicMethods:{initHistory:function(){if(e.extend(i,Ec,!0),i.history){Cc=window.location,Bc=!1,Ac=!1,zc=!1,yc=Fc(),Dc="pushState"in history,yc.indexOf("gid=")>-1&&(yc=yc.split("&gid=")[0],yc=yc.split("?gid=")[0]),Ca("afterChange",f.updateURL),Ca("unbindEvents",function(){e.unbind(window,"hashchange",f.onHashChange)});var a=function(){xc=!0,Ac||(Bc?history.back():yc?Cc.hash=yc:Dc?history.pushState("",document.title,Cc.pathname+Cc.search):Cc.hash=""),Gc()};Ca("unbindEvents",function(){l&&a()}),Ca("destroy",function(){xc||a()}),Ca("firstUpdate",function(){m=Hc().pid});var b=yc.indexOf("pid=");b>-1&&(yc=yc.substring(0,b),"&"===yc.slice(-1)&&(yc=yc.slice(0,-1))),setTimeout(function(){j&&e.bind(window,"hashchange",f.onHashChange)},40)}},onHashChange:function(){return Fc()===yc?(Ac=!0,void f.close()):void(vc||(wc=!0,f.goTo(Hc().pid),wc=!1))},updateURL:function(){Gc(),wc||(zc?sc=setTimeout(Ic,800):Ic())}}}),e.extend(f,eb)};return a});/*! PhotoSwipe Default UI - 4.1.2 - 2017-04-05
* http://photoswipe.com
* Copyright (c) 2017 Dmitry Semenov; */
!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipeUI_Default=b()}(this,function(){"use strict";var a=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=!1,x=!0,y=!0,z={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return a.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},A=function(a){if(r)return!0;a=a||window.event,q.timeToIdle&&q.mouseUsed&&!k&&K();for(var c,d,e=a.target||a.srcElement,f=e.getAttribute("class")||"",g=0;g<S.length;g++)c=S[g],c.onTap&&f.indexOf("pswp__"+c.name)>-1&&(c.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),r=!0;var h=b.features.isOldAndroid?600:30;s=setTimeout(function(){r=!1},h)}},B=function(){return!a.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth},C=function(a,c,d){b[(d?"add":"remove")+"Class"](a,"pswp__"+c)},D=function(){var a=1===q.getNumItemsFn();a!==p&&(C(d,"ui--one-slide",a),p=a)},E=function(){C(i,"share-modal--hidden",y)},F=function(){return y=!y,y?(b.removeClass(i,"pswp__share-modal--fade-in"),setTimeout(function(){y&&E()},300)):(E(),setTimeout(function(){y||b.addClass(i,"pswp__share-modal--fade-in")},30)),y||H(),!1},G=function(b){b=b||window.event;var c=b.target||b.srcElement;return a.shout("shareLinkClick",b,c),!!c.href&&(!!c.hasAttribute("download")||(window.open(c.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),y||F(),!1))},H=function(){for(var a,b,c,d,e,f="",g=0;g<q.shareButtons.length;g++)a=q.shareButtons[g],c=q.getImageURLForShare(a),d=q.getPageURLForShare(a),e=q.getTextForShare(a),b=a.url.replace("{{url}}",encodeURIComponent(d)).replace("{{image_url}}",encodeURIComponent(c)).replace("{{raw_image_url}}",c).replace("{{text}}",encodeURIComponent(e)),f+='<a href="'+b+'" target="_blank" class="pswp__share--'+a.id+'"'+(a.download?"download":"")+">"+a.label+"</a>",q.parseShareButtonOut&&(f=q.parseShareButtonOut(a,f));i.children[0].innerHTML=f,i.children[0].onclick=G},I=function(a){for(var c=0;c<q.closeElClasses.length;c++)if(b.hasClass(a,"pswp__"+q.closeElClasses[c]))return!0},J=0,K=function(){clearTimeout(u),J=0,k&&v.setIdle(!1)},L=function(a){a=a?a:window.event;var b=a.relatedTarget||a.toElement;b&&"HTML"!==b.nodeName||(clearTimeout(u),u=setTimeout(function(){v.setIdle(!0)},q.timeToIdleOutside))},M=function(){q.fullscreenEl&&!b.features.isOldAndroid&&(c||(c=v.getFullscreenAPI()),c?(b.bind(document,c.eventK,v.updateFullscreen),v.updateFullscreen(),b.addClass(a.template,"pswp--supports-fs")):b.removeClass(a.template,"pswp--supports-fs"))},N=function(){q.preloaderEl&&(O(!0),l("beforeChange",function(){clearTimeout(o),o=setTimeout(function(){a.currItem&&a.currItem.loading?(!a.allowProgressiveImg()||a.currItem.img&&!a.currItem.img.naturalWidth)&&O(!1):O(!0)},q.loadingIndicatorDelay)}),l("imageLoadComplete",function(b,c){a.currItem===c&&O(!0)}))},O=function(a){n!==a&&(C(m,"preloader--active",!a),n=a)},P=function(a){var c=a.vGap;if(B()){var g=q.barsSize;if(q.captionEl&&"auto"===g.bottom)if(f||(f=b.createEl("pswp__caption pswp__caption--fake"),f.appendChild(b.createEl("pswp__caption__center")),d.insertBefore(f,e),b.addClass(d,"pswp__ui--fit")),q.addCaptionHTMLFn(a,f,!0)){var h=f.clientHeight;c.bottom=parseInt(h,10)||44}else c.bottom=g.top;else c.bottom="auto"===g.bottom?0:g.bottom;c.top=g.top}else c.top=c.bottom=0},Q=function(){q.timeToIdle&&l("mouseUsed",function(){b.bind(document,"mousemove",K),b.bind(document,"mouseout",L),t=setInterval(function(){J++,2===J&&v.setIdle(!0)},q.timeToIdle/2)})},R=function(){l("onVerticalDrag",function(a){x&&a<.95?v.hideControls():!x&&a>=.95&&v.showControls()});var a;l("onPinchClose",function(b){x&&b<.9?(v.hideControls(),a=!0):a&&!x&&b>.9&&v.showControls()}),l("zoomGestureEnded",function(){a=!1,a&&!x&&v.showControls()})},S=[{name:"caption",option:"captionEl",onInit:function(a){e=a}},{name:"share-modal",option:"shareEl",onInit:function(a){i=a},onTap:function(){F()}},{name:"button--share",option:"shareEl",onInit:function(a){h=a},onTap:function(){F()}},{name:"button--zoom",option:"zoomEl",onTap:a.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(a){g=a}},{name:"button--close",option:"closeEl",onTap:a.close},{name:"button--arrow--left",option:"arrowEl",onTap:a.prev},{name:"button--arrow--right",option:"arrowEl",onTap:a.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){c.isFullscreen()?c.exit():c.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(a){m=a}}],T=function(){var a,c,e,f=function(d){if(d)for(var f=d.length,g=0;g<f;g++){a=d[g],c=a.className;for(var h=0;h<S.length;h++)e=S[h],c.indexOf("pswp__"+e.name)>-1&&(q[e.option]?(b.removeClass(a,"pswp__element--disabled"),e.onInit&&e.onInit(a)):b.addClass(a,"pswp__element--disabled"))}};f(d.children);var g=b.getChildByClass(d,"pswp__top-bar");g&&f(g.children)};v.init=function(){b.extend(a.options,z,!0),q=a.options,d=b.getChildByClass(a.scrollWrap,"pswp__ui"),l=a.listen,R(),l("beforeChange",v.update),l("doubleTap",function(b){var c=a.currItem.initialZoomLevel;a.getZoomLevel()!==c?a.zoomTo(c,b,333):a.zoomTo(q.getDoubleTapZoom(!1,a.currItem),b,333)}),l("preventDragEvent",function(a,b,c){var d=a.target||a.srcElement;d&&d.getAttribute("class")&&a.type.indexOf("mouse")>-1&&(d.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),l("bindEvents",function(){b.bind(d,"pswpTap click",A),b.bind(a.scrollWrap,"pswpTap",v.onGlobalTap),a.likelyTouchDevice||b.bind(a.scrollWrap,"mouseover",v.onMouseOver)}),l("unbindEvents",function(){y||F(),t&&clearInterval(t),b.unbind(document,"mouseout",L),b.unbind(document,"mousemove",K),b.unbind(d,"pswpTap click",A),b.unbind(a.scrollWrap,"pswpTap",v.onGlobalTap),b.unbind(a.scrollWrap,"mouseover",v.onMouseOver),c&&(b.unbind(document,c.eventK,v.updateFullscreen),c.isFullscreen()&&(q.hideAnimationDuration=0,c.exit()),c=null)}),l("destroy",function(){q.captionEl&&(f&&d.removeChild(f),b.removeClass(e,"pswp__caption--empty")),i&&(i.children[0].onclick=null),b.removeClass(d,"pswp__ui--over-close"),b.addClass(d,"pswp__ui--hidden"),v.setIdle(!1)}),q.showAnimationDuration||b.removeClass(d,"pswp__ui--hidden"),l("initialZoomIn",function(){q.showAnimationDuration&&b.removeClass(d,"pswp__ui--hidden")}),l("initialZoomOut",function(){b.addClass(d,"pswp__ui--hidden")}),l("parseVerticalMargin",P),T(),q.shareEl&&h&&i&&(y=!0),D(),Q(),M(),N()},v.setIdle=function(a){k=a,C(d,"ui--idle",a)},v.update=function(){x&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,e),C(e,"caption--empty",!a.currItem.title)),w=!0):w=!1,y||F(),D()},v.updateFullscreen=function(d){d&&setTimeout(function(){a.setScrollOffset(0,b.getScrollY())},50),b[(c.isFullscreen()?"add":"remove")+"Class"](a.template,"pswp--fs")},v.updateIndexIndicator=function(){q.counterEl&&(g.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())},v.onGlobalTap=function(c){c=c||window.event;var d=c.target||c.srcElement;if(!r)if(c.detail&&"mouse"===c.detail.pointerType){if(I(d))return void a.close();b.hasClass(d,"pswp__img")&&(1===a.getZoomLevel()&&a.getZoomLevel()<=a.currItem.fitRatio?q.clickToCloseNonZoomable&&a.close():a.toggleDesktopZoom(c.detail.releasePoint))}else if(q.tapToToggleControls&&(x?v.hideControls():v.showControls()),q.tapToClose&&(b.hasClass(d,"pswp__img")||I(d)))return void a.close()},v.onMouseOver=function(a){a=a||window.event;var b=a.target||a.srcElement;C(d,"ui--over-close",I(b))},v.hideControls=function(){b.addClass(d,"pswp__ui--hidden"),x=!1},v.showControls=function(){x=!0,w||v.update(),b.removeClass(d,"pswp__ui--hidden")},v.supportsFullscreen=function(){var a=document;return!!(a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen)},v.getFullscreenAPI=function(){var b,c=document.documentElement,d="fullscreenchange";return c.requestFullscreen?b={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:d}:c.mozRequestFullScreen?b={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+d}:c.webkitRequestFullscreen?b={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+d}:c.msRequestFullscreen&&(b={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),b&&(b.enter=function(){return j=q.closeOnScroll,q.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?a.template[this.enterK]():void a.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},b.exit=function(){return q.closeOnScroll=j,document[this.exitK]()},b.isFullscreen=function(){return document[this.elementK]}),b}};return a});(function(){var tmpRequire=this.require;this.require=function(module){return(module==="jquery")?$:(void 0)};this.exports={};this.module={exports:{}};var __assign=(this&&this.__assign)||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))
t[p]=s[p]}
return t};return __assign.apply(this,arguments)};var __spreadArray=(this&&this.__spreadArray)||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}
return to.concat(ar||Array.prototype.slice.call(from))};var __importDefault=(this&&this.__importDefault)||function(mod){return(mod&&mod.__esModule)?mod:{"default":mod}};(function(factory){if(typeof module==="object"&&typeof module.exports==="object"){var v=factory(require,exports);if(v!==undefined)module.exports=v}else if(typeof define==="function"&&define.amd){define(["require","exports","jquery"],factory)}})(function(require,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.GalleryLib=exports.isVideoFile=void 0;var jquery_1=__importDefault(require("jquery"));function buildAnimName(val){return'wb-anim-'+val.effect+(val.direction?('-'+val.direction):'')}
function buildAnimCss(val){if(!val)
return{animation:'none'};return{animation:buildAnimName(val)+' '+val.duration+'s'+' '+val.timing+' '+val.delay+'s','animation-iteration-count':val.loop?'infinite':1,}}
var config={thumbWidth:290,thumbHeight:290,minWidth:320,minHeight:240};var win=window;var GoogleMapsApi=(function(){function GoogleMapsApi(){}
GoogleMapsApi.configure=function(apiKey,locale){GoogleMapsApi.apiKey=apiKey;GoogleMapsApi.locale=locale};GoogleMapsApi.addListener=function(callback){if(win['GoogleMapsApi_ScriptReady']){callback()}else{if(!win['GoogleMapsApi_Listeners'])
win['GoogleMapsApi_Listeners']=[];win['GoogleMapsApi_Listeners'].push(callback)}
if(!win['GoogleMapsApi_ScriptLoaded']){win['GoogleMapsApi_ScriptLoaded']=!0;win['GoogleMapsApi_clb_fn']=function(){return win['GoogleMapsApi_ScriptReady']=!0};var region=(GoogleMapsApi.locale.indexOf('_')>=0)?GoogleMapsApi.locale.split('_')[1].toUpperCase():null;jquery_1.default.getScript("//maps.googleapis.com/maps/api/js?v=3.exp&key="+GoogleMapsApi.apiKey+"&sensor=false"+(region?("&region="+region+"&language="+GoogleMapsApi.locale):'')+"&callback=GoogleMapsApi_clb_fn&libraries=places");var compleFunc_1=function(){if(!win['GoogleMapsApi_ScriptReady']){setTimeout(compleFunc_1,100)}else if(win['GoogleMapsApi_Listeners']){for(var _i=0,_a=win['GoogleMapsApi_Listeners'];_i<_a.length;_i++){var callback_1=_a[_i];callback_1()}}};compleFunc_1()}};GoogleMapsApi.apiKey='';GoogleMapsApi.locale='en_US';return GoogleMapsApi}());var isVideoFile=function(src){var tsParts=src.split("?ts=");var extParts=tsParts[0].split(".");var ext=(extParts.length>1)?extParts[(extParts.length-1)]:"";if("mp4,mpeg,avi,flv,mkv,mov".indexOf(ext.toLowerCase())>=0){return!0}
return!1};exports.isVideoFile=isVideoFile;var GalleryLib=(function(){function GalleryLib(data){var _this_1=this;this.type="thumbs";this.slideshowInterval=5;this.slideshowSpeed=400;this.pauseOnHover=!1;this.images=[];this.imageIndex=0;this.slideshowTimer=0;this.displayedImage=null;this.loadingImage=null;this.listImgCont=null;this.thumbImgCont=null;this.fullThumbWidth=0;this.fullThumbHeight=0;this.bgColor="";this.padding=0;this.imageCover=!1;this.disablePopup=!1;this.slideOpacity=100;this.thumbWidth=config.thumbWidth;this.thumbHeight=config.thumbHeight;this.thumbAlign="left";this.thumbPadding=6;this.thumbAnim=null;this.thumbShadow=null;this.showPictureCaption="always";this.captionIncludeDescription=!1;this.imageElems={};this.lightBox=null;this.initialRender=!1;this.lightBoxDisplayed=!1;this.invalid=!1;this.resizeEventHandler=null;this.transitionendEventHandler=null;this.mousemoveEventHandler=null;this.imageChangedHandler=null;this.map=null;this.mapMarkers=[];this.mapInfowindows=[];this.mapDiv=null;this.pause=!1;this.delayedUpdateTimeout=0;this.metaUpdateTimeout=0;GalleryLib.galleryLibList.push(this);this.elem=(0,jquery_1.default)('<div>').addClass('wb_gallery');this.id=data.id?data.id:'wb-gallery-id';this.height=data.height?data.height:'';this.border=data.border?data.border:{border:'5px none #FFFFFF'};this.thumbWidth=(typeof data.thumbWidth==='number'&&data.thumbWidth>0)?data.thumbWidth:config.thumbWidth;this.thumbHeight=(typeof data.thumbHeight==='number'&&data.thumbHeight>0)?data.thumbHeight:config.thumbHeight;this.thumbAlign=data.thumbAlign?data.thumbAlign:this.thumbAlign;this.thumbPadding=(data.thumbPadding||data.thumbPadding===0)?data.thumbPadding:this.thumbPadding;if(data.thumbAnim)
this.thumbAnim=data.thumbAnim;if(data.thumbShadow)
this.thumbShadow=data.thumbShadow;this.padding=(data.padding||data.padding===0)?data.padding:0;this.type=data.type?data.type:this.type;this.slideshowInterval=(typeof data.interval==='number')?data.interval:10;this.imageCover=(typeof data.imageCover==='boolean')?data.imageCover:this.imageCover;this.disablePopup=(typeof data.disablePopup==='boolean')?data.disablePopup:this.disablePopup;this.slideOpacity=(typeof data.slideOpacity==='number')?data.slideOpacity:this.slideOpacity;this.slideshowSpeed=(typeof data.speed==='number')?data.speed:400;this.setBgColor(data.bgColor?data.bgColor:'transparent');this.showPictureCaption=(typeof data.showPictureCaption==='string')?data.showPictureCaption:this.showPictureCaption;this.captionIncludeDescription=!!data.captionIncludeDescription;if(data.captionBackground)
this.setCaptionBackground(data.captionBackground);if(data.captionPosition)
this.setCaptionPosition(data.captionPosition);if(data.captionTitleStyle)
this.setCaptionTitleStyle(data.captionTitleStyle);if(data.captionDescriptionStyle)
this.setCaptionDescriptionStyle(data.captionDescriptionStyle);if(data.controlsArrow)
this.setControlsArrow(data.controlsArrow);if(data.controlsArrowSize)
this.setControlsArrowSize(data.controlsArrowSize);if(data.controlsArrowStyle)
this.setControlsArrowStyle(data.controlsArrowStyle);this.mapTypeId=data.mapTypeId||null;this.markerIconTypeId=data.markerIconTypeId||null;this.zoom=data.zoom||16;this.mapCenter=data.mapCenter||null;this.key=data.key||null;this.theme=data.theme||'default';this.color=data.color||'#eeeeee';this.showSatellite=data.showSatellite||!1;this.showZoom=data.showZoom||!1;this.showStreetView=data.showStreetView||!1;this.showFullscreen=data.showFullscreen||!1;this.allowDragging=data.allowDragging||!1;this.showRoads=data.showRoads||!1;this.showLandmarks=data.showLandmarks||!1;this.showLabels=data.showLabels||!1;this.locale=data.locale||'en_US';this.pauseOnHover=data.pauseOnHover||!1;if(this.key)
GoogleMapsApi.configure(this.key,this.locale);if(!('wb_builder' in window)){this.initialRender=!0}
this.setImages((data.images&&data.images.length)?data.images:[]);if(data.trackResize){this.resizeEventHandler=function(){return _this_1.handleResize()};(0,jquery_1.default)(window).on('resize',this.resizeEventHandler)}
this.transitionendEventHandler=function(e){if((0,jquery_1.default)(e.target).is(".wb-viewport-block"))
_this_1.handleResize();};(0,jquery_1.default)(window).on('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend',this.transitionendEventHandler);this.mousemoveEventHandler=function(e){if(!_this_1.pauseOnHover){return}
if((0,jquery_1.default)(e.target).attr('data-plugin')=='Gallery'||(0,jquery_1.default)(e.target).parents('div[data-plugin="Gallery"]').length){_this_1.pause=!0;if(_this_1.currentType=='image'){clearInterval(_this_1.slideshowTimer);_this_1.slideshowTimer=0}}else{_this_1.pause=!1;if(_this_1.currentType=='image'){_this_1.reset()}}};(0,jquery_1.default)(document).on('mousemove',this.mousemoveEventHandler)}
GalleryLib.getGalleryLibList=function(){return GalleryLib.galleryLibList};GalleryLib.getGalleryLibById=function(id){for(var i in GalleryLib.galleryLibList){if(GalleryLib.galleryLibList[i].id===id)
return GalleryLib.galleryLibList[i]}
return null};GalleryLib.prototype.setVisible=function(visible){this.elem.css('display',visible?'block':'none')};GalleryLib.prototype.appendTo=function(container){(0,jquery_1.default)(container).append(this.elem);this.handleResize()};GalleryLib.prototype.destroy=function(){var _a;if(this.slideshowTimer)
clearInterval(this.slideshowTimer);if(this.type==="masonry"&&this.listImgCont)
this.listImgCont.masonry("destroy");(_a=this.lightBox)===null||_a===void 0?void 0:_a.destroy();if(this.resizeEventHandler)(0,jquery_1.default)(window).off('resize',this.resizeEventHandler);if(this.transitionendEventHandler)(0,jquery_1.default)(window).off('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend',this.transitionendEventHandler);if(this.mousemoveEventHandler)(0,jquery_1.default)(document).off('mousemove',this.mousemoveEventHandler);this.elem.remove()};GalleryLib.prototype.reset=function(callback){var _this_1=this;if(this.slideshowTimer)
clearInterval(this.slideshowTimer);if(this.slideshowInterval&&this.images.length>1){this.slideshowTimer=setInterval(function(){return _this_1.slideshowNext(callback)},this.slideshowInterval*1000)}else this.slideshowTimer=0};GalleryLib.prototype.setPause=function(pause){if(pause===void 0){pause=!0}
if(pause){if(this.slideshowTimer)
clearInterval(this.slideshowTimer);this.slideshowTimer=0}else{this.reset()}};GalleryLib.prototype.invalidate=function(){var _this_1=this;if(!this.invalid){this.invalid=!0;if("requestAnimationFrame" in window)
requestAnimationFrame(function(){return _this_1.revalidate()});else setTimeout(function(){return _this_1.revalidate()},0)}
return this};GalleryLib.prototype.revalidate=function(){this.invalid=!1;this.render();return this};GalleryLib.prototype.applyAnimation=function(img,i,layoutReady){img.css(buildAnimCss());if(this.thumbAnim&&this.thumbAnim.normal){var anim_1=this.thumbAnim.normal;img.addClass('wb-anim-entry').removeClass('wb-anim-entry-on');var func=function(){return setTimeout(function(){img.css(buildAnimCss(__assign(__assign({},anim_1),{delay:0})));setTimeout(function(){return img.addClass('wb-anim-entry-on').removeClass('wb-anim-entry')},40)},(anim_1.delay*1000*i))};if(layoutReady)
layoutReady.done(func);else func()}
if(this.thumbAnim&&this.thumbAnim.hover){var anim=this.thumbAnim.hover;var hoverOff_1=buildAnimCss();var hoverOn_1=buildAnimCss(anim);img.addClass(buildAnimName(anim)).off('mouseover').on('mouseover',function(){return img.css(hoverOn_1)}).off('mouseout').on('mouseout',function(){return img.css(hoverOff_1)});if(anim.loop)
img.addClass('loop');}};GalleryLib.prototype.render=function(){this.imageChangedHandler=null;if(this.slideshowTimer)
clearInterval(this.slideshowTimer);this.slideshowTimer=0;this.listImgCont=null;this.displayedImage=null;this.loadingImage=null;this.elem.empty();if(this.images.length==0)
return;if(!this._initialHeight)
this._initialHeight=this.elem.parent().get(0).style.height;this.elem.parent().css('height',this._initialHeight);switch(this.type){case "slideshow":this.renderSlideshow();break;case "list":this.renderList();break;case "masonry":this.renderMasonry();break;case "map":this.renderMap();break;default:this.renderThumbs();break}};GalleryLib.prototype.getThemeDefaultStyle=function(){return[]};GalleryLib.prototype.getThemeLightStyle=function(color){return[{"featureType":"administrative","elementType":"labels.text.fill","stylers":[{"color":"#444444"}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#f2f2f2"}]},{"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"all","stylers":[{"saturation":-100},{"lightness":45}]},{"featureType":"road.highway","elementType":"all","stylers":[{"visibility":"simplified"}]},{"featureType":"road.arterial","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"all","stylers":[{"color":(color?color:'#cccccc')},{"visibility":"on"}]}]};GalleryLib.prototype.getThemeDarkStyle=function(color){return[{"featureType":"all","elementType":"labels.text.fill","stylers":[{"saturation":36},{"color":"#000000"},{"lightness":40}]},{"featureType":"all","elementType":"labels.text.stroke","stylers":[{"visibility":"on"},{"color":"#000000"},{"lightness":16}]},{"featureType":"all","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"administrative","elementType":"geometry.fill","stylers":[{"color":"#000000"},{"lightness":20}]},{"featureType":"administrative","elementType":"geometry.stroke","stylers":[{"color":"#000000"},{"lightness":17},{"weight":1.2}]},{"featureType":"landscape","elementType":"geometry","stylers":[{"color":"#000000"},{"lightness":20}]},{"featureType":"poi","elementType":"geometry","stylers":[{"color":"#000000"},{"lightness":21}]},{"featureType":"road.highway","elementType":"geometry.fill","stylers":[{"color":"#000000"},{"lightness":17}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"color":"#000000"},{"lightness":29},{"weight":0.2}]},{"featureType":"road.arterial","elementType":"geometry","stylers":[{"color":"#000000"},{"lightness":18}]},{"featureType":"road.local","elementType":"geometry","stylers":[{"color":"#000000"},{"lightness":16}]},{"featureType":"transit","elementType":"geometry","stylers":[{"color":"#000000"},{"lightness":19}]},{"featureType":"water","elementType":"geometry","stylers":[{"color":(color?color:'#333333')},{"lightness":17}]}]};GalleryLib.prototype.getThemeMonochromeStyle=function(color){return[{"featureType":"all","elementType":"geometry","stylers":[{"color":(color?color:'#3e44b5')}]},{"featureType":"all","elementType":"labels.text.fill","stylers":[{"gamma":0.01},{"lightness":20}]},{"featureType":"all","elementType":"labels.text.stroke","stylers":[{"saturation":-31},{"lightness":-33},{"weight":2},{"gamma":0.8}]},{"featureType":"all","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"landscape","elementType":"geometry","stylers":[{"lightness":30},{"saturation":30}]},{"featureType":"poi","elementType":"geometry","stylers":[{"saturation":20}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"lightness":20},{"saturation":-20}]},{"featureType":"road","elementType":"geometry","stylers":[{"lightness":10},{"saturation":-30}]},{"featureType":"road","elementType":"geometry.stroke","stylers":[{"saturation":25},{"lightness":25}]},{"featureType":"water","elementType":"all","stylers":[{"lightness":-20}]}]};GalleryLib.prototype.getThemeStyle=function(theme,color){if(theme==='light'){return this.getThemeLightStyle(color)}else if(theme==='dark'){return this.getThemeDarkStyle(color)}else if(theme==='monochrome'){return this.getThemeMonochromeStyle(color)}
return this.getThemeDefaultStyle()};GalleryLib.prototype.getStyles=function(){var styles=this.getThemeStyle(this.theme,this.color);var extraStyles=[{featureType:'road',stylers:[{visibility:(this.showRoads?'on':'off')}]},{featureType:'poi',stylers:[{visibility:(this.showLandmarks?'on':'off')}]},{elementType:'labels',stylers:[{visibility:(this.showLabels?'on':'off')}]}];return styles.concat(extraStyles)};GalleryLib.prototype.getLeftArrow=function(type,active){if(type===void 0){type=null}
if(active===void 0){active=!1}
if(this.images.length<=1)
return null;var icon=(0,jquery_1.default)('<i class="fa fa-chevron-left"></i>');switch(type){case 'shevron':icon=(0,jquery_1.default)('<i class="fa fa-chevron-left"></i>');break;case 'shevron-circle':icon=(0,jquery_1.default)('<i class="fa fa-chevron-circle-left"></i>');break;case 'arrow':icon=(0,jquery_1.default)('<i class="fa fa-arrow-left"></i>');break;case 'arrow-circle':icon=(0,jquery_1.default)('<i class="fa fa-arrow-circle-left"></i>');break;case 'caret':icon=(0,jquery_1.default)('<i class="fa fa-caret-left"></i>');break;case 'circles':icon=(0,jquery_1.default)(active?'<i class="fa fa-circle"></i>':'<i class="fa fa-circle-o"></i>');break;case 'none':return null}
if(this.controlsArrowSize){icon.css('font-size',this.controlsArrowSize)}
return icon};GalleryLib.prototype.getRightArrow=function(type,active){if(type===void 0){type=null}
if(active===void 0){active=!1}
if(this.images.length<=1)
return null;var icon=(0,jquery_1.default)('<i class="fa fa-chevron-right"></i>');switch(type){case 'shevron':icon=(0,jquery_1.default)('<i class="fa fa-chevron-right"></i>');break;case 'shevron-circle':icon=(0,jquery_1.default)('<i class="fa fa-chevron-circle-right"></i>');break;case 'arrow':icon=(0,jquery_1.default)('<i class="fa fa-arrow-right"></i>');break;case 'arrow-circle':icon=(0,jquery_1.default)('<i class="fa fa-arrow-circle-right"></i>');break;case 'caret':icon=(0,jquery_1.default)('<i class="fa fa-caret-right"></i>');break;case 'circles':icon=(0,jquery_1.default)(active?'<i class="fa fa-circle"></i>':'<i class="fa fa-circle-o"></i>');break;case 'none':return null}
if(this.controlsArrowSize){icon.css('font-size',this.controlsArrowSize)}
return icon};GalleryLib.prototype.renderThumbs=function(){this.elem.html('<div class="wb-thumbs-only" style="width: 100%; height: 100%; overflow: auto;"></div>');this.elem.css("text-align",this.thumbAlign);var elem=this.elem.children().first();for(var i=0,c=this.images.length;i<c;i++){if((0,exports.isVideoFile)(this.images[i].src)){continue}
var img=this.addImage(elem,this.images[i],i).wrp;this.applyAnimation(img,i)}
elem.children('.wb_thumb').css('padding',(this.thumbPadding/2)+'px');if(this.thumbShadow&&this.height==='auto'){this.elem.css('overflow','visible');this.elem.children('.wb-thumbs-only').css('overflow','visible');this.elem.parent('.wb_gallery').css('overflow','visible')}else{this.elem.css('overflow','');this.elem.parent('.wb_gallery').css('overflow','')}};GalleryLib.prototype.renderSlideshow=function(){var self=this;var rootElem=this.elem.parent();if('wb_builder' in window){rootElem=rootElem.parent()}
if(rootElem.length){var minH=rootElem.css('min-height');if(minH&&/^\d+px$/.test(minH)&&parseInt(minH)>0)
this.elem.parent().css('height',minH);}
this.elem.html('<div class="gallery-slideshow">'+'<div class="gallery-slide-image" style="overflow: hidden;"></div>'+'</div>');var cont=this.elem.children().first();this.initSwipes(cont,function(dir){if(dir==='right')
self.slideshowPrev();if(dir==='left')
self.slideshowNext();});this.renderSlideshowControls(cont);this.listImgCont=cont.children(".gallery-slide-image");this.listImgCont.css('opacity',this.slideOpacity/100);this.reset();this.imageIndex=-1;this.slideshowNext()};GalleryLib.prototype.renderSlideshowControls=function(cont){var _this_1=this;var _a;var self=this;var toNormal=function(){var _a,_b,_c,_d,_e,_f;var $this=(0,jquery_1.default)(this);if((_b=(_a=self.controlsArrowStyle)===null||_a===void 0?void 0:_a.normal)===null||_b===void 0?void 0:_b.color)
$this.css({color:self.controlsArrowStyle.normal.color});else $this.css('color','');if(((_d=(_c=self.controlsArrowStyle)===null||_c===void 0?void 0:_c.normal.shadow)===null||_d===void 0?void 0:_d.css)&&((_f=(_e=self.controlsArrowStyle)===null||_e===void 0?void 0:_e.normal.shadow)===null||_f===void 0?void 0:_f.css['text-shadow'])){$this.css({textShadow:self.controlsArrowStyle.normal.shadow.css['text-shadow']})}else $this.css('textShadow','')};var toHoverState=function(){var _a,_b,_c,_d,_e,_f;var $this=(0,jquery_1.default)(this);if((_b=(_a=self.controlsArrowStyle)===null||_a===void 0?void 0:_a.hover)===null||_b===void 0?void 0:_b.color)
$this.css({color:self.controlsArrowStyle.hover.color});else $this.css('color','');if(((_d=(_c=self.controlsArrowStyle)===null||_c===void 0?void 0:_c.hover.shadow)===null||_d===void 0?void 0:_d.css)&&((_f=(_e=self.controlsArrowStyle)===null||_e===void 0?void 0:_e.hover.shadow)===null||_f===void 0?void 0:_f.css['text-shadow'])){$this.css({textShadow:self.controlsArrowStyle.hover.shadow.css['text-shadow']})}else $this.css('textShadow','')};var toActiveState=function(){var _a,_b,_c,_d,_e,_f;var $this=(0,jquery_1.default)(this);if((_b=(_a=self.controlsArrowStyle)===null||_a===void 0?void 0:_a.active)===null||_b===void 0?void 0:_b.color)
$this.css({color:self.controlsArrowStyle.active.color});else $this.css('color','');if(((_d=(_c=self.controlsArrowStyle)===null||_c===void 0?void 0:_c.active.shadow)===null||_d===void 0?void 0:_d.css)&&((_f=(_e=self.controlsArrowStyle)===null||_e===void 0?void 0:_e.active.shadow)===null||_f===void 0?void 0:_f.css['text-shadow'])){$this.css({textShadow:self.controlsArrowStyle.active.shadow.css['text-shadow']})}else $this.css('textShadow','')};if(this.controlsArrow==='circles'){cont.children('.gallery-slide-pagination').remove();var pageElem=(0,jquery_1.default)('<div class="gallery-slide-pagination"></div>');if(this.showPictureCaption!=='none'&&this.captionPosition==='center bottom')
pageElem.addClass('gallery-slide-pagination-top');else pageElem.addClass('gallery-slide-pagination-bottom');cont.append(pageElem);var _loop_1=function(i){var circleElem=(_a=this_1.getLeftArrow(this_1.controlsArrow,i===this_1.imageIndex))===null||_a===void 0?void 0:_a.clone().hover(toHoverState,function(){if(i===self.imageIndex)
toActiveState.apply(this);else toNormal.apply(this)}).click(function(){return _this_1.slideshowTo(i)});if(circleElem){(i===this_1.imageIndex?toActiveState:toNormal).apply(circleElem.get(0));pageElem.append(circleElem)}};var this_1=this;for(var i=0;i<this.getImages().length;i++){_loop_1(i)}}else{cont.children('.gallery-slide-left, .gallery-slide-right').remove();var larr=(0,jquery_1.default)('<div class="gallery-slide-left"></div>');cont.append(larr);var larrow=this.getLeftArrow(this.controlsArrow);if(larrow)
larr.append(larrow);var rarr=(0,jquery_1.default)('<div class="gallery-slide-right"></div>');cont.append(rarr);var rarrow=this.getRightArrow(this.controlsArrow);if(rarrow)
rarr.append(rarrow);larr.click(function(){return _this_1.slideshowPrev()});rarr.click(function(){return _this_1.slideshowNext()});larr.hover(toHoverState,toNormal);toNormal.apply(larr.get(0));rarr.hover(toHoverState,toNormal);toNormal.apply(rarr.get(0))}};GalleryLib.prototype.renderList=function(){var _this_1=this;var rootElem=this.elem.parent();if('wb_builder' in window){rootElem=rootElem.parent()}
if(rootElem.length){var minH=rootElem.css('min-height');if(minH&&/^\d+px$/.test(minH)&&parseInt(minH)>0)
this.elem.parent().css('height',minH);}
var h=this.elem.height();if(!h)
h=this.elem.parent().height();var tw=this.getThumbWidth();var th=this.getThumbHeight();var thumbcont=(0,jquery_1.default)("<div></div>");this.imageChangedHandler=function(){var img=_this_1.imageElems[_this_1.imageIndex];if(!img.parentNode||!img.parentNode.parentNode||!img.parentNode.parentNode.parentNode)
return;(0,jquery_1.default)(img.parentNode.parentNode.parentNode).children(".tmb-selected").removeClass("tmb-selected");(0,jquery_1.default)(img.parentNode.parentNode).addClass("tmb-selected")};this.imageElems={};var _loop_2=function(i){var image=this_2.images[i];var img=this_2.addImage(thumbcont,image,i,!0).img;img.css({cursor:"pointer"});this_2.imageElems[i]=img.get(0);img.click(function(){if(!_this_1.listImgCont)
return;_this_1.imageIndex=_this_1.images.indexOf(image);_this_1.displayImage(_this_1.listImgCont);if(_this_1.slideshowTimer){_this_1.setPause(!0);setTimeout(function(){return _this_1.setPause(!1)},_this_1.slideshowInterval*1000)}});var par=img.parent().parent();if(i===this_2.imageIndex){par.addClass("tmb-selected");tw=this_2.getThumbWidth()+8;th=this_2.getThumbHeight()+8}};var this_2=this;for(var i=0;i<this.images.length;i++){_loop_2(i)}
var thumbs=thumbcont.children('.wb_thumb');thumbs.css('margin','0 '+(this.getThumbPadding()/2)+'px');(0,jquery_1.default)(thumbs.get(0)).css('margin','0 '+(this.getThumbPadding()/2)+'px 0 0');(0,jquery_1.default)(thumbs.get(thumbs.length-1)).css('margin','0 0 0 '+(this.getThumbPadding()/2)+'px');this.fullThumbWidth=tw;this.fullThumbHeight=th;var thumbsWidth=tw*this.images.length+this.getThumbPadding()*(this.images.length-1);thumbcont.css({position:"absolute",left:"0",top:"5px",width:thumbsWidth+"px",height:th+"px"});var galcont=document.createElement("DIV");(0,jquery_1.default)(galcont).css({position:"relative",height:h>0?(h+"px"):''});galcont.className="gallery-list";var imgcont=document.createElement("DIV");(0,jquery_1.default)(imgcont).css({position:"relative",height:h>0?((h-th-10)+"px"):'',overflow:"hidden"});imgcont.className="gallery-list-image";this.initSwipes((0,jquery_1.default)(imgcont),function(dir){if(dir==='right')
_this_1.slideshowPrev();if(dir==='left')
_this_1.slideshowNext();if(_this_1.slideshowTimer){_this_1.setPause(!0);setTimeout(function(){return _this_1.setPause(!1)},_this_1.slideshowInterval*1000)}});var icon;var thumbdiv_in1=document.createElement("DIV");(0,jquery_1.default)(thumbdiv_in1).css({position:"relative","float":"left",height:(th+10)+"px",cursor:"pointer"});thumbdiv_in1.className="gallery-list-left";(0,jquery_1.default)(thumbdiv_in1).click(function(){return _this_1.slideBy('left')});icon=this.getLeftArrow(this.controlsArrow);if(icon)
thumbdiv_in1.appendChild(icon.get(0));var thumbdiv_in2=document.createElement("DIV");(0,jquery_1.default)(thumbdiv_in2).css({position:"relative","float":"none",margin:"0 auto",maxWidth:thumbsWidth+"px",height:(th+10)+"px",overflow:"hidden",});thumbdiv_in2.className="gallery-list-thumbs";this.initSwipes((0,jquery_1.default)(thumbdiv_in2),function(dir){if(dir==='right')
_this_1.slideBy('left');if(dir==='left')
_this_1.slideBy('right');if(_this_1.slideshowTimer){_this_1.setPause(!0);setTimeout(function(){return _this_1.setPause(!1)},_this_1.slideshowInterval*1000)}});var thumbdiv_in3=document.createElement("DIV");(0,jquery_1.default)(thumbdiv_in3).css({position:"relative","float":"right",height:(th+10)+"px",cursor:"pointer"});thumbdiv_in3.className="gallery-list-right";(0,jquery_1.default)(thumbdiv_in3).click(function(){return _this_1.slideBy('right')});icon=this.getRightArrow(this.controlsArrow);if(icon)
thumbdiv_in3.appendChild(icon.get(0));var self=this;var toHoverState=function(){var _a,_b,_c,_d,_e,_f;var $this=(0,jquery_1.default)(this);if((_b=(_a=self.controlsArrowStyle)===null||_a===void 0?void 0:_a.hover)===null||_b===void 0?void 0:_b.color)
$this.css({color:self.controlsArrowStyle.hover.color});else $this.css('color','');if(((_d=(_c=self.controlsArrowStyle)===null||_c===void 0?void 0:_c.hover.shadow)===null||_d===void 0?void 0:_d.css)&&((_f=(_e=self.controlsArrowStyle)===null||_e===void 0?void 0:_e.hover.shadow)===null||_f===void 0?void 0:_f.css['text-shadow'])){$this.css({textShadow:self.controlsArrowStyle.hover.shadow.css['text-shadow']})}else $this.css('textShadow','')};var toNormalState=function(){var _a,_b,_c,_d,_e,_f;var $this=(0,jquery_1.default)(this);if((_b=(_a=self.controlsArrowStyle)===null||_a===void 0?void 0:_a.normal)===null||_b===void 0?void 0:_b.color)
$this.css({color:self.controlsArrowStyle.normal.color});else $this.css('color','');if(((_d=(_c=self.controlsArrowStyle)===null||_c===void 0?void 0:_c.normal.shadow)===null||_d===void 0?void 0:_d.css)&&((_f=(_e=self.controlsArrowStyle)===null||_e===void 0?void 0:_e.normal.shadow)===null||_f===void 0?void 0:_f.css['text-shadow'])){$this.css({textShadow:self.controlsArrowStyle.normal.shadow.css['text-shadow']})}else $this.css('textShadow','')};(0,jquery_1.default)(thumbdiv_in1).hover(toHoverState,toNormalState);toNormalState.apply(thumbdiv_in1);(0,jquery_1.default)(thumbdiv_in3).hover(toHoverState,toNormalState);toNormalState.apply(thumbdiv_in3);var thumbdiv=document.createElement("DIV");(0,jquery_1.default)(thumbdiv).css({position:"relative",height:(th+10)+"px",overflow:"hidden"});thumbdiv.classList.add('gallery-list-thumbs-list');(0,jquery_1.default)(thumbdiv_in2).append(thumbcont);thumbdiv.appendChild(thumbdiv_in1);thumbdiv.appendChild(thumbdiv_in3);thumbdiv.appendChild(thumbdiv_in2);galcont.appendChild(imgcont);galcont.appendChild(thumbdiv);this.listImgCont=(0,jquery_1.default)(imgcont);this.thumbImgCont=(0,jquery_1.default)(thumbdiv_in2);this.elem.append(galcont);this.reset();this.imageIndex=-1;this.slideshowNext();if(1<this.elem.width()-((0,jquery_1.default)(thumbdiv_in1).outerWidth()+(0,jquery_1.default)(thumbdiv_in2).outerWidth()+(0,jquery_1.default)(thumbdiv_in3).outerWidth())){(0,jquery_1.default)(thumbdiv_in1).hide();(0,jquery_1.default)(thumbdiv_in3).hide()}
if(this.images.length<=1){this.elem.find('.gallery-list-thumbs-list').hide();this.fullThumbHeight=0}};GalleryLib.prototype.renderMasonry=function(){var elem=(0,jquery_1.default)('<div class="wb-masonry-items"/>');var cont=(0,jquery_1.default)('<div class="wb-masonry" style="width: 100%; height: 100%; overflow: auto;"/>');cont.append(elem);this.elem.append(cont);if(this.thumbAlign==="left")
elem.css("float","left");else if(this.thumbAlign==="right")
elem.css("float","right");else elem.css("margin","0 auto");var layoutReady=jquery_1.default.Deferred();for(var i=0,c=this.images.length;i<c;i++){if((0,exports.isVideoFile)(this.images[i].src)){continue}
var img=this.addImage(elem,this.images[i],i).wrp;this.applyAnimation(img,i,layoutReady.promise())}
elem.children('.wb_thumb').css('padding',(this.thumbPadding/2)+'px');var brd=this.getBorder();elem.masonry({itemSelector:".wb_thumb",columnWidth:this.getThumbWidth()+(brd?this.getBorderWidth(brd,1)+this.getBorderWidth(brd,3):0)+this.thumbPadding,fitWidth:!0,transitionDuration:0}).masonry('once','layoutComplete',function(){return layoutReady.resolve()});this.listImgCont=elem;if(this.thumbShadow&&this.height==='auto'){this.elem.css('overflow','visible');this.elem.children('.wb-masonry').get(0).style.setProperty("overflow","visible","important");this.elem.parent('.wb_gallery').css('overflow','visible')}else{this.elem.css('overflow','');this.elem.parent('.wb_gallery').css('overflow','')}};GalleryLib.prototype.renderMap=function(){var _this_1=this;var rootElem=this.elem.parent();if('wb_builder' in window){rootElem=rootElem.parent()}
if(rootElem.length){var minH=rootElem.css('min-height');if(minH&&/^\d+px$/.test(minH)&&parseInt(minH)>0)
this.elem.parent().css('height',minH);}
this.elem.html('<div class="wb-gallery-map" style="width: 100%; height: 100%; overflow: auto; position: absolute;"></div>');this.elem.css("text-align",this.thumbAlign);var elem=this.elem.children().first();this.map=null;this.mapDiv=null;if(this.key){GoogleMapsApi.addListener(function(){var mapTypeId=_this_1.mapTypeId||google.maps.MapTypeId.ROADMAP;var thisClass=_this_1;if(!_this_1.map){if(!_this_1.mapDiv){_this_1.mapDiv=(0,jquery_1.default)('<div>').css({width:'100%',height:'100%'}).appendTo(elem)}
_this_1.mapDiv.css("display","block");setTimeout(function(){if(thisClass.mapDiv){thisClass.map=new google.maps.Map(thisClass.mapDiv.get(0),{zoom:thisClass.zoom,center:thisClass.mapCenter&&thisClass.mapCenter.latLng?thisClass.mapCenter.latLng:new google.maps.LatLng(0,0),mapTypeId:mapTypeId,mapTypeControl:thisClass.showSatellite,zoomControl:thisClass.showZoom,streetViewControl:thisClass.showStreetView,fullscreenControl:thisClass.showFullscreen,draggable:thisClass.allowDragging,styles:thisClass.getStyles()})}},50)}
var init=function(){if(!thisClass.map){setTimeout(init,10);return}
thisClass.map.setZoom(thisClass.zoom);thisClass.map.setCenter(new google.maps.LatLng(0,0));thisClass.map.setMapTypeId(mapTypeId);thisClass.map.setOptions({mapTypeControl:thisClass.showSatellite,zoomControl:thisClass.showZoom,streetViewControl:thisClass.showStreetView,fullscreenControl:thisClass.showFullscreen,draggable:thisClass.allowDragging,styles:thisClass.getStyles()});thisClass.map.addListener("click",function(){thisClass.mapInfowindows.map(function(item){item.close()})});thisClass.mapMarkers.map(function(item){return item.setMap(null)});thisClass.mapMarkers=[];thisClass.mapInfowindows=[];var latlngbounds=new google.maps.LatLngBounds();var _loop_3=function(i,c){var image=thisClass.images[i];if(image.address&&image.address.latLng){var content=(0,jquery_1.default)('<div class="gallery-map-image" style="position: relative">'+"<img loading=\"lazy\" src=\"".concat(thisClass.urlEncode(image.src||image.thumb||''),"\" alt=\"").concat(image.title,"\" style=\"max-width: 100%; max-height: 100%\"/>")+"</div>");if((image.title||image.description)&&thisClass.showPictureCaption!=='none'){caption=(0,jquery_1.default)('<div class="wb-picture-caption"/>');if(thisClass.captionBackground)
caption.css("background-color",thisClass.captionBackground);if(thisClass.captionPosition)
caption.addClass(thisClass.captionPosition.split(" ").join("-"));thisClass.fillCaptionContainer(caption,image,thisClass.captionIncludeDescription);content.append(caption)}
var infowindow_1=new google.maps.InfoWindow({content:content.get(0),});infowindow_1.addListener('domready',function(){var parent=(0,jquery_1.default)(this.getContent()).parent();var height=parent.parent().innerHeight()-parent.height();(0,jquery_1.default)(this.getContent()).children('img').css('max-height',parent.height()-height)});var position=new google.maps.LatLng(image.address.latLng);latlngbounds.extend(position);var icon=undefined;if(thisClass.markerIconTypeId==='thumbs'){icon={url:image.thumb||image.src,size:new google.maps.Size(35,35),scaledSize:new google.maps.Size(35,35)}}else if(thisClass.markerIconTypeId==='camera'){icon={path:'M960 864q119 0 203.5 -84.5t84.5 -203.5t-84.5 -203.5t-203.5 -84.5t-203.5 84.5t-84.5 203.5t84.5 203.5t203.5 84.5zM1664 1280q106 0 181 -75t75 -181v-896q0 -106 -75 -181t-181 -75h-1408q-106 0 -181 75t-75 181v896q0 106 75 181t181 75h224l51 136 q19 49 69.5 84.5t103.5 35.5h512q53 0 103.5 -35.5t69.5 -84.5l51 -136h224zM960 128q185 0 316.5 131.5t131.5 316.5t-131.5 316.5t-316.5 131.5t-316.5 -131.5t-131.5 -316.5t131.5 -316.5t316.5 -131.5z',anchor:new google.maps.Point(15,30),scale:0.01,rotation:180,fillColor:"#cecece",fillOpacity:0.5,strokeWeight:1,}}
var marker_1=new google.maps.Marker({position:position,map:thisClass.map,title:image.title,icon:icon});marker_1.addListener("click",function(){thisClass.mapInfowindows.map(function(item){return item.close()});var map=marker_1.getMap();if(map){infowindow_1.open(map,marker_1)}});thisClass.mapMarkers.push(marker_1);thisClass.mapInfowindows.push(infowindow_1)}};var caption;for(var i=0,c=thisClass.images.length;i<c;i++){_loop_3(i,c)}
if(thisClass.mapCenter&&thisClass.mapCenter.latLng&&thisClass.mapCenter.latLng.lat!==0&&thisClass.mapCenter.latLng.lng!==0){thisClass.map.setCenter(thisClass.mapCenter.latLng);thisClass.map.setZoom(thisClass.zoom)}else if(thisClass.mapMarkers.length===1){thisClass.map.setCenter(new google.maps.LatLng(0,0));thisClass.map.setZoom(thisClass.zoom)}else{thisClass.map.fitBounds(latlngbounds)}};setTimeout(init,50)})}};GalleryLib.prototype.onImageLoad=function(){var _this_1=this;if(this.type==="masonry"){this.elem.find(".wb-masonry-items").masonry();this.elem.trigger("elementviewchange")}
if(this.delayedUpdateTimeout)
clearTimeout(this.delayedUpdateTimeout);this.delayedUpdateTimeout=setTimeout(function(){_this_1.delayedUpdateTimeout=0;if(_this_1.type==="masonry"){_this_1.elem.find(".wb-masonry-items").masonry();_this_1.elem.trigger("elementviewchange")}},1000)};GalleryLib.prototype.getBorderWidth=function(css,side){if(side===void 0){side=0}
var border='';if(side==1&&typeof css.borderLeft==='string')
border=css.borderLeft;if(side==1&&typeof css['border-left']==='string')
border=css['border-left'];if(side==3&&typeof css.borderRight==='string')
border=css.borderRight;if(side==3&&typeof css['border-right']==='string')
border=css['border-right'];if(!border&&typeof css.border==='string')
border=css.border;if(border.indexOf('none')===-1){var res=border.match(/^([0-9]+)px(?:| .+)$/);if(res)
return parseFloat(res[1]);}
return 0};GalleryLib.prototype.slideBy=function(delta,instant){if(instant===void 0){instant=!1}
var behavior=instant?'instant':'smooth';if(!this.thumbImgCont)
return;var cont=this.thumbImgCont;var div=cont.children().first();var pos=div.position();var x=cont.get(0).scrollLeft;if(typeof delta==='string'){x+=this.thumbImgCont.width()*0.95*(delta==='left'?-1:1);cont.get(0).scrollTo({left:x,behavior:behavior})}else{var cont_1=this.thumbImgCont.get(0);var thumb=this.thumbImgCont.find('.wb_thumb').get(this.imageIndex);if(cont_1&&thumb){var childOffsetRight=thumb.offsetLeft+thumb.offsetWidth;var containerScrollRight=cont_1.scrollLeft+cont_1.offsetWidth;if(cont_1.scrollLeft>thumb.offsetLeft){cont_1.scrollTo({left:thumb.offsetLeft,behavior:behavior})}else if(containerScrollRight<childOffsetRight){cont_1.scrollTo({left:cont_1.scrollLeft+childOffsetRight-containerScrollRight,behavior:behavior})}}}};GalleryLib.prototype.handleContinuousResize=function(){if(!this.listImgCont)
return;if(this.type==="masonry"){this.listImgCont.masonry()}};GalleryLib.prototype.handleResize=function(){if(!this.listImgCont)
return;if(this.type==="list"){this.listImgCont.css({height:''});var h=this.elem.height();var th=this.fullThumbHeight;this.listImgCont.css({height:(h-th-10)+"px"});this.slideBy(this.imageIndex,!0);var larr=(0,jquery_1.default)('.gallery-list-left',this.elem);var thumbs=(0,jquery_1.default)('.gallery-list-thumbs',this.elem);var rarr=(0,jquery_1.default)('.gallery-list-right',this.elem);if(1<this.elem.width()-(larr.outerWidth()+thumbs.outerWidth()+rarr.outerWidth())){larr.hide();rarr.hide()}else{larr.show();rarr.show()}}else if(this.type==="masonry"){this.listImgCont.css('width','');this.listImgCont.masonry()}
if(this.displayedImage)
this.updateImageSize(this.displayedImage);if(this.loadingImage)
this.updateImageSize(this.loadingImage);};GalleryLib.prototype.updateImageSize=function(imageCont){if(!this.listImgCont)
return;if(this.type==='slideshow'||this.type==='list')
return;var size=imageCont.data("_wb_size_");var stl=this.calcImageStyles(this.listImgCont,size);imageCont.css({left:stl.x+"px",top:stl.y+"px"});var img=imageCont.children('img').first();if(img&&img.length){img.css({width:stl.width+"px",height:stl.height+"px"});var imgRaw=img.get(0);imgRaw.width=stl.width;imgRaw.height=stl.height}};GalleryLib.prototype.calcImageStyles=function(displayCont,image){if(!image)
return{x:0,y:0,width:0,height:0};var cover=this.imageCover;var pad=cover?0:this.padding;var maxWidth=displayCont.innerWidth()-pad*2;var maxHeight=displayCont.innerHeight()-pad*2;var w=image.width;var h=image.height;if(cover||w>maxWidth||h>maxHeight){var ratio1=w/maxWidth;var ratio2=h/maxHeight;var ratio=cover?Math.min(ratio1,ratio2):Math.max(ratio1,ratio2);w=Math.floor(w/ratio);h=Math.floor(h/ratio)}
return{x:Math.floor((maxWidth-w)/2+pad),y:Math.floor((maxHeight-h)/2+pad),width:w,height:h}};GalleryLib.prototype.parseHash=function(){var hash=window.location.hash.substring(1),params={gid:'',pid:''};if(hash.length<5){return params}
var vars=hash.split('&');for(var i=0;i<vars.length;i++){if(!vars[i]){continue}
var pair=vars[i].split('=');if(pair.length<2){continue}
if(i==1&&pair){params.gid=pair[1]}
if(i==2&&pair){params.pid=pair[1]}}
return params};GalleryLib.prototype.isiPhone=function(){return/iPhone/.test(navigator.userAgent)};GalleryLib.prototype.displayImage=function(displayCont,callback){var _this_1=this;if(typeof callback==='function')
callback();if(this.imageChangedHandler)
this.imageChangedHandler();var image=this.images[this.imageIndex];if(!image)
return;var link=(this.type!=="thumbs"&&this.type!=="masonry"&&image.link)?image.link:undefined;var cont=(link?(0,jquery_1.default)('<a>'):(0,jquery_1.default)('<div>')).addClass("gallery-image");if(link){if(/^wb_popup:([^;]*);/.test(link.url)){cont.attr('data-popup',link.url);cont.attr('href','javascript:void(0)')}else{cont.attr('href',link.url)}
if(link.target)
cont.attr('target',link.target);}
if(image.title)
cont.attr('title',image.title);cont.data("image",image);cont.css({display:"none"});if(this.thumbShadow&&this.thumbShadow.css&&['thumbs','masonry'].indexOf(this.type)>=0){cont.css(this.thumbShadow.css)}
var img;var imgJq;if((0,exports.isVideoFile)(image.src)){this.currentType='video';imgJq=(0,jquery_1.default)('<video class="wb-video visible" playsinline muted'+(this.pauseOnHover?' loop':'')+' controlslist="nodownload nofullscreen noremoteplayback" disablepictureinpicture preload="auto">');img=imgJq[0];imgJq.on('loadedmetadata',function(){var onloaded=function(){if(_this_1.displayedImage)
_this_1.displayedImage.remove();var parent=cont.parent();_this_1.displayedImage=(parent&&parent.length)?cont:null;_this_1.loadingImage=null;img.play()};imgJq.css({'object-fit':_this_1.imageCover?'cover':'contain'});imgJq.css({transform:'translate3d(0, 0, 1px)'});cont.css({position:'absolute'});cont.append(img);var speed=_this_1.getTransitionSpeed();if(!speed){cont.show();onloaded()}else{cont.fadeIn(speed,function(){cont.css({position:''});onloaded()})}});if(this.slideshowTimer){clearInterval(this.slideshowTimer);this.slideshowTimer=0}
var _this_2=this;var firstPlay_1=!0;imgJq.on('timeupdate',function(){var curTime=Math.round(this.currentTime);var endTime=Math.round(this.duration);if(curTime>0&&endTime>0&&curTime>=endTime&&firstPlay_1&&!_this_2.pause){firstPlay_1=!1;if(_this_2.slideshowInterval&&_this_2.images.length>1){_this_2.reset();_this_2.slideshowNext(callback)}}});if(!this.imageCover){var isIphone_1=this.isiPhone();if(isIphone_1){img.controls=!1}else{imgJq.on('mouseover',function(){this.controls=!0}).on('mouseout',function(){this.controls=!1})}
imgJq.on('click',function(){if(!isIphone_1){this.controls=!1}
if(!this.paused){this.pause()}else{this.play()}})}}else{this.currentType='image';img=new Image();img.alt="";if(image.title)
img.alt=image.title;imgJq=(0,jquery_1.default)(img);img.onload=function(){if(_this_1.displayedImage){var caption_1=_this_1.displayedImage.data("caption");_this_1.displayedImage.fadeOut(_this_1.getTransitionSpeed(),function(){if(_this_1.displayedImage)
_this_1.displayedImage.remove();});if(caption_1){caption_1.fadeOut(_this_1.getTransitionSpeed(),function(){return caption_1.remove()})}}
cont.append(img);imgJq.css({'object-fit':_this_1.imageCover?'cover':'contain'});imgJq.css({transform:'translate3d(0, 0, 1px)'});cont.css({position:'absolute'});cont.fadeIn(_this_1.getTransitionSpeed(),function(){if(_this_1.displayedImage)
_this_1.displayedImage.remove();var parent=cont.parent();_this_1.displayedImage=(parent&&parent.length)?cont:null;_this_1.loadingImage=null;cont.css({position:''})})}}
imgJq.css((this.imageCover||!this.border)?{"border":"none"}:this.border);imgJq.on('dragstart',function(e){e.preventDefault();e.stopPropagation()});displayCont.append(cont);this.loadingImage=cont;var caption=(0,jquery_1.default)('<div class="wb-picture-caption" style="display: none;"/>');if(this.captionBackground)
caption.css("background-color",this.captionBackground);if(this.captionPosition)
caption.addClass(this.captionPosition.split(" ").join("-"));if(this.fillCaptionContainer(caption,image,this.captionIncludeDescription)){if(this.showPictureCaption==='always'){caption.fadeIn(this.getTransitionSpeed());displayCont.append(caption);cont.data("caption",caption)}else if(this.showPictureCaption==='hover'){displayCont.append(caption);cont.data("caption",caption);caption.css({display:'block',opacity:0,});displayCont.hover(function(){caption.css('opacity','1')},function(){caption.css('opacity','0')})}}else{}
img.src=this.urlEncode(image.src,!0,!0);if(!link)
this.initImageLightBox(imgJq,this.imageIndex);if(this.type==='slideshow')
this.renderSlideshowControls(this.elem.children().first());if(this.type==='list')
this.slideBy(this.imageIndex);if(typeof this.onImageDisplayed==='function')
this.onImageDisplayed(img.src);};GalleryLib.prototype.slideshowTo=function(index,callback){if(this.images.length===0||!this.listImgCont||this.lightBoxDisplayed)
return;this.imageIndex=index;if(this.imageIndex>=this.images.length)
this.imageIndex=0;if(this.imageIndex<0)
this.imageIndex=this.images.length-1;this.displayImage(this.listImgCont,callback)};GalleryLib.prototype.slideshowNext=function(callback){if(this.images.length===0||!this.listImgCont||this.lightBoxDisplayed)
return;this.imageIndex++;if(this.imageIndex>=this.images.length)
this.imageIndex=0;this.displayImage(this.listImgCont,callback)};GalleryLib.prototype.slideshowPrev=function(callback){if(this.images.length===0||!this.listImgCont)
return;this.imageIndex--;if(this.imageIndex<0)
this.imageIndex=this.images.length-1;this.displayImage(this.listImgCont,callback)};GalleryLib.prototype.addImage=function(cont,image,idx,noLightbox){var _this_1=this;if(noLightbox===void 0){noLightbox=!1}
var isThumbsOnlyMode=(this.type==="thumbs"||this.type==="masonry");var link=(isThumbsOnlyMode&&image.link)?image.link:undefined;var div=(link?(0,jquery_1.default)('<a>'):(0,jquery_1.default)('<div>')).addClass("wb_thumb");if(link){if(/^wb_popup:([^;]*);/.test(link.url)){div.attr('data-popup',link.url);div.attr('href','javascript:void(0)')}else{div.attr('href',link.url)}
if(link.target)
div.attr('target',link.target);}
if(image.title)
div.attr('title',image.title);var tw=this.getThumbWidth();var th=this.getThumbHeight();var wrp=(0,jquery_1.default)("<div/>");wrp.css({width:tw+"px",overflow:"hidden",boxSizing:"content-box",position:'relative'});if(this.thumbShadow&&this.thumbShadow.css&&['thumbs','masonry'].indexOf(this.type)>=0){wrp.css(this.thumbShadow.css)}
if(this.type!=='masonry')
wrp.css('height',th+"px");var brd=this.getBorder();if(isThumbsOnlyMode&&brd)
wrp.css(brd);div.append(wrp);div.data("image",image);var onloadcb=function(w,h){var k;if(_this_1.type==='masonry'){k=w/tw}else{var k1=w/tw;var k2=h/th;k=Math.min(k1,k2)}
if(_this_1.imageCover){w=w/k;h=h/k;var x=Math.round((tw-w)/2);var y=(_this_1.type==='masonry')?0:Math.round((th-h)/2);img.css({left:x+"px",top:y+"px",width:w+"px",height:h+"px",border:"",objectFit:"cover",transform:'translate3d(0, 0, 1px)'})}else{img.css({left:0,top:0,width:"100%",height:"100%",objectFit:"contain",border:"1px solid #888",transform:'translate3d(0, 0, 1px)'})}
try{var anim=wrp.get(0).animate([{opacity:0},{opacity:1}],150);anim.onfinish=function(){wrp.css({opacity:''})};anim.play()}catch(e){wrp.css({opacity:''})}
setTimeout(function(){return _this_1.onImageLoad()},100)};var img;var imgRaw;if((0,exports.isVideoFile)(image.src)){img=(0,jquery_1.default)('<video class="wb-video visible" autoplay loop playsinline muted controlslist="nodownload nofullscreen noremoteplayback" disablepictureinpicture preload="auto">');imgRaw=img[0];img.on('loadedmetadata',function(){var w=imgRaw.videoWidth;var h=imgRaw.videoHeight;onloadcb(w,h);if(imgRaw instanceof HTMLVideoElement)
imgRaw.play();})}else{img=(0,jquery_1.default)('<img loading="lazy" src="" alt="" />');if(image.title)
img.attr('alt',image.title);imgRaw=img.get(0);imgRaw.onload=function(){var w=imgRaw.width;var h=imgRaw.height;onloadcb(w,h)}}
wrp.css({opacity:0});imgRaw.src=this.urlEncode(image.thumb||image.src,!0,!0);img.css({display:"block",maxWidth:"auto",position:"relative"});wrp.append(img);if(isThumbsOnlyMode&&this.getThumbWidth()>=100&&this.showPictureCaption!=='none'){var descDiv_1=(0,jquery_1.default)('<div class="wb-picture-caption"/>');if(this.captionBackground)
descDiv_1.css("background-color",this.captionBackground);if(this.captionPosition)
descDiv_1.addClass(this.captionPosition.split(" ").join("-"));if(this.fillCaptionContainer(descDiv_1,image,this.captionIncludeDescription)){wrp.append(descDiv_1);if(this.showPictureCaption==='hover'){descDiv_1.css({opacity:0,transition:"opacity "+(this.slideshowSpeed/1000).toFixed(3)+"s linear"});div.hover(function(){descDiv_1.css('opacity','1')},function(){descDiv_1.css('opacity','0')})}}}
cont.append(div);if(!noLightbox&&!link)
this.initImageLightBox(img,idx);return{img:img,wrp:wrp}};GalleryLib.prototype.fillCaptionContainer=function(cont,meta,createDescription,createLink){if(createLink===void 0){createLink=!1}
var hasAny=!1;if(meta.title!==""){hasAny=!0;var title=(0,jquery_1.default)('<h3 class="wb-lightbox-title">').append((createLink&&meta.link)?(0,jquery_1.default)('<a>').attr({href:meta.link.url,target:meta.link.target?meta.link.target:null}).text(meta.title):document.createTextNode(meta.title));if(this.captionTitleStyle)
title.css(this.captionTitleStyle);cont.append(title)}
if(createDescription&&meta.description!==""){hasAny=!0;var desc=(0,jquery_1.default)('<div class="wb-lightbox-description">').text(meta.description);if(this.captionDescriptionStyle)
desc.css(this.captionDescriptionStyle);cont.append(desc)}
return hasAny};GalleryLib.prototype.updateImageMeta=function(updateImage){for(var _i=0,_a=this.images;_i<_a.length;_i++){var image=_a[_i];if(image.src===updateImage.src){jquery_1.default.extend(!0,image,updateImage);this.onMetaChange();break}}};GalleryLib.prototype.renderMeta=function(image,createDescription,$container,$caption){var isNew;if($caption&&$caption.length){$caption.empty();isNew=!1}else{$caption=(0,jquery_1.default)('<div class="wb-picture-caption"/>');isNew=!0}
if(this.captionBackground)
$caption.css("background-color",this.captionBackground);if(this.captionPosition)
$caption.addClass(this.captionPosition.split(" ").join("-"));if(this.fillCaptionContainer($caption,image,createDescription)){if(isNew){$caption.css("opacity",0);$container.append($caption);$caption.css("opacity",1)}
if(this.showPictureCaption==='hover'){$caption.css({opacity:0,transition:"opacity "+(this.slideshowSpeed/1000).toFixed(3)+"s linear"});$container.hover(function(){$caption&&$caption.css('opacity','1')},function(){$caption&&$caption.css('opacity','0')})}
return $caption}else if(!isNew){$caption.detach()}
return null};GalleryLib.prototype.onMetaChange=function(){var _this_1=this;if(this.metaUpdateTimeout)
return;this.metaUpdateTimeout=requestAnimationFrame(function(){_this_1.metaUpdateTimeout=0;if(_this_1.type==='map'){_this_1.renderMap()}else if(_this_1.type==="thumbs"||_this_1.type==="masonry"){if(_this_1.getThumbWidth()>=100&&_this_1.showPictureCaption!=='none'){var thisClass_1=_this_1;_this_1.elem.find(".wb_thumb").each(function(){var $thumb=(0,jquery_1.default)(this);var image=$thumb.data("image");if(!image)
return;$thumb.attr('title',image.title||"");thisClass_1.renderMeta(image,!1,$thumb.children().first(),(0,jquery_1.default)(".wb-picture-caption",$thumb))})}}else{var renderListImageMeta=function($cont,fadeIn){var $parent=$cont.parent();if(!$parent||!$parent.length)
return;var image=$cont.data("image");if(!image)
return;$cont.attr('title',image.title||"");var $prevCaption=$cont.data("caption");var $caption=null;if(_this_1.showPictureCaption!=='none'){$caption=_this_1.renderMeta(image,!0,$parent,$prevCaption)}
$cont.data("caption",$caption);if($caption&&!$prevCaption){$caption.addClass("wb-no-transition");var opacity=parseFloat(getComputedStyle($cont[0]).opacity);if(opacity<1){$caption.css("opacity",opacity);if(fadeIn)
$caption.fadeTo(Math.floor((1-opacity)*_this_1.getTransitionSpeed()),1);else $caption.fadeOut(Math.floor(opacity*_this_1.getTransitionSpeed()),function(){return $caption===null||$caption===void 0?void 0:$caption.remove()})}}};if(_this_1.displayedImage)
renderListImageMeta(_this_1.displayedImage,!1);if(_this_1.loadingImage)
renderListImageMeta(_this_1.loadingImage,!0);if(_this_1.type==="list"){(0,jquery_1.default)(".wb_thumb",_this_1.elem).each(function(){var $thumb=(0,jquery_1.default)(this);var image=$thumb.data("image");$thumb.attr('title',image.title||"")})}}})};GalleryLib.prototype.constructImagesArray=function(){var images=[];for(var _i=0,_a=this.images;_i<_a.length;_i++){var image=_a[_i];if((0,exports.isVideoFile)(image.src)){continue}
images.push({src:image.zoom||image.src,w:image.width,h:image.height,msrc:null,title:(typeof image.title==='string'&&image.title.length>0)?image.title:" ",link:image.link?image.link:undefined,description:image.description?image.description:''})}
return images};GalleryLib.prototype.initImageLightBox=function(img,imageIndex){var _this_1=this;if(img.prop("tagName")=='VIDEO'){return}
var lightBoxInited=GalleryLib.lightBoxInited;GalleryLib.lightBoxInited=!0;var params;if(this.initialRender){params=this.parseHash();imageIndex=params.pid?parseInt(params.pid):imageIndex}
if((this.type==='slideshow'||this.type==='list'||this.type==='thumbs'||this.type==='masonry')&&this.disablePopup)
return;var lightBoxElem=(0,jquery_1.default)('.wb_pswp');if(!lightBoxInited&&this.initialRender&&params&&params.pid&&params.gid===this.id){this.lightBoxDisplayed=!0;var images=[];images=this.constructImagesArray();this.lightBox=(new PhotoSwipe(lightBoxElem.get(0),PhotoSwipeUI_Default,images,{index:imageIndex,galleryUID:this.id,addCaptionHTMLFn:function(item,captionElement){var cont=(0,jquery_1.default)(captionElement.children[0]);cont.empty();return _this_1.fillCaptionContainer(cont,item,!0,!0)},history:!0,closeOnScroll:!1}));this.lightBox.init();this.lightBox.listen('destroy',function(){_this_1.lightBoxDisplayed=!1});this.initialRender=!1}
img.css({cursor:"pointer"}).on("click touchstart touchend touchmove",function(e){var img=(0,jquery_1.default)(e.currentTarget);if(e.type==='touchstart'){img.data('pswpDisabled',!1)}else if(e.type==='touchmove'){img.data('pswpDisabled',!0)}
if((e.type==='click'||e.type==='touchend')&&!img.data('pswpDisabled')){_this_1.lightBoxDisplayed=!0;var images=[];images=_this_1.constructImagesArray();_this_1.lightBox=(new PhotoSwipe(lightBoxElem.get(0),PhotoSwipeUI_Default,images,{index:imageIndex,galleryUID:_this_1.id,addCaptionHTMLFn:function(item,captionElement){var cont=(0,jquery_1.default)(captionElement.children[0]);cont.empty();return _this_1.fillCaptionContainer(cont,item,!0,!0)},history:!0,closeOnScroll:!1}));_this_1.lightBox.init();_this_1.lightBox.listen('destroy',function(){_this_1.lightBoxDisplayed=!1});lightBoxElem.attr('id',_this_1.id+'_pswp')}})};GalleryLib.prototype.urlEncode=function(url,quotes,hash){if(quotes===void 0){quotes=!1}
if(hash===void 0){hash=!1}
var url_=encodeURI(url).replace(/\(/g,"%28").replace(/\)/g,"%29");if(quotes){url_=url_.replace(/\'/g,"%27")}
if(hash){url_=url_.replace(/#/g,"%23")}
return url_};GalleryLib.prototype.initSwipes=function(elem,callback){var self=this;var xDiff=null,yDiff=null;this.elem.css({'touch-action':'pan-y pinch-zoom'});function startSwipe(e){xDiff=e.pageX||e.originalEvent.touches[0].pageX;yDiff=e.pageY||e.originalEvent.touches[0].pageY;(0,jquery_1.default)(document.body).on('mouseup touchend',endSwipe)}
function endSwipe(e){(0,jquery_1.default)(document.body).off('mouseup touchend',endSwipe);if(xDiff&&yDiff){xDiff-=e.pageX||e.originalEvent.changedTouches[0].pageX;yDiff-=e.pageY||e.originalEvent.changedTouches[0].pageY;if(Math.abs(xDiff)>Math.abs(yDiff)&&Math.abs(xDiff)>10){if(xDiff<-10)
callback('right');else if(xDiff>10)
callback('left');self.elem.find('.gallery-image > *').data('pswpDisabled',!0);setTimeout(function(){self.elem.find('.gallery-image > *').data('pswpDisabled',!1)},100)}
xDiff=yDiff=null}}
elem.on('mousedown touchstart',startSwipe);elem.data('_startSwipe',startSwipe)};GalleryLib.prototype.destroySwipe=function(elem){this.elem.css({'touch-action':''});var startSwipe=elem.data('_startSwipe');if(startSwipe)
elem.off('mousedown touchstart',startSwipe);};GalleryLib.prototype.getImages=function(){return __spreadArray([],this.images,!0)};GalleryLib.prototype.setImages=function(images){this.images=__spreadArray([],images,!0);this.invalidate()};GalleryLib.prototype.setHeight=function(height){this.height=height;this.invalidate()};GalleryLib.prototype.getType=function(){return this.type};GalleryLib.prototype.setType=function(type){this.type=type;this.invalidate()};GalleryLib.prototype.getSlideshowInterval=function(){return this.slideshowInterval};GalleryLib.prototype.getSlideshowSpeed=function(){return this.slideshowSpeed};GalleryLib.prototype.setSlideshowSpeed=function(speed){this.slideshowSpeed=speed};GalleryLib.prototype.getTransitionSpeed=function(){return(this.slideshowInterval>0)?Math.min(Math.max(0,this.slideshowInterval*1000-100),this.slideshowSpeed):this.slideshowSpeed};GalleryLib.prototype.getBgColor=function(){return this.bgColor};GalleryLib.prototype.setBgColor=function(color){this.bgColor=color;this.elem.css("background-color",this.bgColor)};GalleryLib.prototype.getCaptionBackground=function(){return this.captionBackground};GalleryLib.prototype.setCaptionBackground=function(color){this.captionBackground=color;if(this.captionBackground)
this.elem.find(".wb-picture-caption").css("background-color",color);};GalleryLib.prototype.getCaptionPosition=function(){return this.captionPosition};GalleryLib.prototype.setCaptionPosition=function(position){this.captionPosition=position;if(this.captionPosition)
this.elem.find(".wb-picture-caption").removeClass("left-top center-top right-top left-center center-center right-center left-bottom center-bottom right-bottom").addClass(position.split(" ").join("-"));};GalleryLib.prototype.getCaptionTitleStyle=function(){return this.captionTitleStyle};GalleryLib.prototype.setCaptionTitleStyle=function(css){this.captionTitleStyle=css;this.elem.find(".wb-lightbox-title").css(css)};GalleryLib.prototype.getCaptionDescriptionStyle=function(){return this.captionDescriptionStyle};GalleryLib.prototype.setCaptionDescriptionStyle=function(css){this.captionDescriptionStyle=css;this.elem.find(".wb-lightbox-description").css(css)};GalleryLib.prototype.getControlsArrow=function(){return this.controlsArrow};GalleryLib.prototype.setControlsArrow=function(type){this.controlsArrow=type};GalleryLib.prototype.getControlsArrowSize=function(){return this.controlsArrowSize};GalleryLib.prototype.setControlsArrowSize=function(size){this.controlsArrowSize=size};GalleryLib.prototype.getControlsArrowStyle=function(){return this.controlsArrowStyle};GalleryLib.prototype.setControlsArrowStyle=function(style){this.controlsArrowStyle=style};GalleryLib.prototype.setFrequency=function(frequency){if(frequency>=0&&frequency<=10){this.slideshowInterval=frequency;this.reset()}};GalleryLib.prototype.getFrequency=function(){return this.slideshowInterval};GalleryLib.prototype.setPauseOnHover=function(value){this.pauseOnHover=value};GalleryLib.prototype.getPauseOnHover=function(){return this.pauseOnHover};GalleryLib.prototype.getBorder=function(){return this.border};GalleryLib.prototype.setBorder=function(border){this.border=border;this.elem.find('.gallery-image').css((this.imageCover||!this.border)?{"border":"none"}:this.border);this.invalidate()};GalleryLib.prototype.getPadding=function(){return this.padding};GalleryLib.prototype.getThumbWidth=function(){return this.thumbWidth?this.thumbWidth:config.thumbWidth};GalleryLib.prototype.getThumbHeight=function(){return this.thumbHeight?this.thumbHeight:config.thumbHeight};GalleryLib.prototype.getThumbAlign=function(){return this.thumbAlign};GalleryLib.prototype.getThumbPadding=function(){return this.thumbPadding};GalleryLib.prototype.setPadding=function(padding){this.padding=padding;this.invalidate()};GalleryLib.prototype.setThumbWidth=function(width){this.thumbWidth=width;this.invalidate()};GalleryLib.prototype.setThumbHeight=function(height){this.thumbHeight=height;this.invalidate()};GalleryLib.prototype.setThumbAlign=function(align){this.thumbAlign=align;this.invalidate()};GalleryLib.prototype.setThumbPadding=function(padding){this.thumbPadding=padding;this.invalidate()};GalleryLib.prototype.getThumbAnim=function(){return this.thumbAnim};GalleryLib.prototype.setThumbAnim=function(value){if(value&&('_preview' in value)&&value._preview){delete value._preview}
this.thumbAnim=value;this.invalidate()};GalleryLib.prototype.getThumbShadow=function(){return this.thumbShadow};GalleryLib.prototype.setThumbShadow=function(value){this.thumbShadow=value;this.invalidate()};GalleryLib.prototype.setImageCover=function(value){this.imageCover=value;this.invalidate()};GalleryLib.prototype.setDisablePopup=function(value){this.disablePopup=value;this.invalidate()};GalleryLib.prototype.setSlideOpacity=function(value){this.slideOpacity=value;if(this.type==="slideshow"&&this.listImgCont){this.listImgCont.css('opacity',this.slideOpacity/100)}};GalleryLib.prototype.getImageCover=function(){return this.imageCover};GalleryLib.prototype.getDisablePopup=function(){return this.disablePopup};GalleryLib.prototype.getSlideOpacity=function(){return this.slideOpacity};GalleryLib.prototype.setShowPictureCaption=function(value){this.showPictureCaption=value;this.invalidate()};GalleryLib.prototype.getShowPictureCaption=function(){return this.showPictureCaption};GalleryLib.prototype.setCaptionIncludeDescription=function(value){this.captionIncludeDescription=value;this.invalidate()};GalleryLib.prototype.getCaptionIncludeDescription=function(){return this.captionIncludeDescription};GalleryLib.prototype.getMapTypeId=function(){return this.mapTypeId};GalleryLib.prototype.setMapTypeId=function(value){this.mapTypeId=value;this.invalidate()};GalleryLib.prototype.getMarkerIconTypeId=function(){return this.markerIconTypeId};GalleryLib.prototype.setMarkerIconTypeId=function(value){this.markerIconTypeId=value;this.invalidate()};GalleryLib.prototype.getZoom=function(){return this.zoom};GalleryLib.prototype.setZoom=function(value){this.zoom=value;this.invalidate()};GalleryLib.prototype.getMapCenter=function(){return this.mapCenter};GalleryLib.prototype.setMapCenter=function(value){this.mapCenter=value;this.invalidate()};GalleryLib.prototype.getKey=function(){return this.key};GalleryLib.prototype.setKey=function(value){this.key=value;this.invalidate()};GalleryLib.prototype.getTheme=function(){return this.theme};GalleryLib.prototype.setTheme=function(value){this.theme=value;this.invalidate()};GalleryLib.prototype.getColor=function(){return this.color};GalleryLib.prototype.setColor=function(value){this.color=value;this.invalidate()};GalleryLib.prototype.getShowSatellite=function(){return this.showSatellite};GalleryLib.prototype.setShowSatellite=function(value){this.showSatellite=value;this.invalidate()};GalleryLib.prototype.getShowZoom=function(){return this.showZoom};GalleryLib.prototype.setShowZoom=function(value){this.showZoom=value;this.invalidate()};GalleryLib.prototype.getShowStreetView=function(){return this.showStreetView};GalleryLib.prototype.setShowStreetView=function(value){this.showStreetView=value;this.invalidate()};GalleryLib.prototype.getShowFullscreen=function(){return this.showFullscreen};GalleryLib.prototype.setShowFullscreen=function(value){this.showFullscreen=value;this.invalidate()};GalleryLib.prototype.getAllowDragging=function(){return this.allowDragging};GalleryLib.prototype.setAllowDragging=function(value){this.allowDragging=value;this.invalidate()};GalleryLib.prototype.getShowRoads=function(){return this.showRoads};GalleryLib.prototype.setShowRoads=function(value){this.showRoads=value;this.invalidate()};GalleryLib.prototype.getShowLandmarks=function(){return this.showLandmarks};GalleryLib.prototype.setShowLandmarks=function(value){this.showLandmarks=value;this.invalidate()};GalleryLib.prototype.getShowLabels=function(){return this.showLabels};GalleryLib.prototype.setShowLabels=function(value){this.showLabels=value;this.invalidate()};GalleryLib.lightBoxInited=!1;GalleryLib.galleryLibList=[];return GalleryLib}());exports.GalleryLib=GalleryLib});this.require=tmpRequire;delete this.module;if(this.exports&&this.exports.GalleryLib){this.wbmodGalleryLib=this.exports.GalleryLib}
delete this.exports}).call(window);(function(){var tmpDefine=this.define;this.define=undefined;/*!
 * Masonry PACKAGED v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,r,a){function h(t,e,n){var o,r="$()."+i+'("'+e+'")';return t.each(function(t,h){var u=a.data(h,i);if(!u)return void s(i+" not initialized. Cannot call methods, i.e. "+r);var d=u[e];if(!d||"_"==e.charAt(0))return void s(r+" is not a valid method");var l=d.apply(u,n);o=void 0===o?l:o}),void 0!==o?o:t}function u(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),a.data(n,i,o))})}a=a||e||t.jQuery,a&&(r.prototype.option||(r.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return h(this,t,e)}return u(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,s="undefined"==typeof r?function(){}:function(t){r.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o],s=n&&n[r];s&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;u>e;e++){var i=h[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}function o(){if(!d){d=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);s=200==Math.round(t(o.width)),r.isBoxSizeOuter=s,i.removeChild(e)}}function r(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=n(e);if("none"==r.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var d=a.isBorderBox="border-box"==r.boxSizing,l=0;u>l;l++){var c=h[l],f=r[c],m=parseFloat(f);a[c]=isNaN(m)?0:m}var p=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,y=a.marginLeft+a.marginRight,v=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,z=a.borderTopWidth+a.borderBottomWidth,E=d&&s,b=t(r.width);b!==!1&&(a.width=b+(E?0:p+_));var x=t(r.height);return x!==!1&&(a.height=x+(E?0:g+z)),a.innerWidth=a.width-(p+_),a.innerHeight=a.height-(g+z),a.outerWidth=a.width+y,a.outerHeight=a.height+v,a}}var s,a="undefined"==typeof console?e:function(t){console.error(t)},h=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],u=h.length,d=!1;return r}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e};var n=Array.prototype.slice;i.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;return e?n.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(t,e,i){i=i||100;var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var o=t.console;return i.htmlInit=function(e,n){i.docReady(function(){var r=i.toDashed(n),s="data-"+r,a=document.querySelectorAll("["+s+"]"),h=document.querySelectorAll(".js-"+r),u=i.makeArray(a).concat(i.makeArray(h)),d=s+"-options",l=t.jQuery;u.forEach(function(t){var i,r=t.getAttribute(s)||t.getAttribute(d);try{i=r&&JSON.parse(r)}catch(a){return void(o&&o.error("Error parsing "+s+" on "+t.className+": "+a))}var h=new e(t,i);l&&l.data(t,n,h)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return e=null,!0}function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var r=document.documentElement.style,s="string"==typeof r.transition?"transition":"WebkitTransition",a="string"==typeof r.transform?"transform":"WebkitTransform",h={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[s],u={transform:a,transition:s,transitionDuration:s+"Duration",transitionProperty:s+"Property",transitionDelay:s+"Delay"},d=n.prototype=Object.create(t.prototype);d.constructor=n,d._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},d.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.getSize=function(){this.size=e(this.element)},d.css=function(t){var e=this.element.style;for(var i in t){var n=u[i]||i;e[n]=t[i]}},d.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],r=parseFloat(n),s=parseFloat(o),a=this.layout.size;-1!=n.indexOf("%")&&(r=r/100*a.width),-1!=o.indexOf("%")&&(s=s/100*a.height),r=isNaN(r)?0:r,s=isNaN(s)?0:s,r-=e?a.paddingLeft:a.paddingRight,s-=i?a.paddingTop:a.paddingBottom,this.position.x=r,this.position.y=s},d.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",r=i?"left":"right",s=i?"right":"left",a=this.position.x+t[o];e[r]=this.getXValue(a),e[s]="";var h=n?"paddingTop":"paddingBottom",u=n?"top":"bottom",d=n?"bottom":"top",l=this.position.y+t[h];e[u]=this.getYValue(l),e[d]="",this.css(e),this.emitEvent("layout",[this])},d.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},d.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},d._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),o&&!this.isTransitioning)return void this.layoutPosition();var r=t-i,s=e-n,a={};a.transform=this.getTranslate(r,s),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},d.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return t=i?t:-t,e=n?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},d.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},d.moveTo=d._transitionTo,d.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},d._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},d.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var l="opacity,"+o(a);d.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(h,this,!1)}},d.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},d.onotransitionend=function(t){this.ontransitionend(t)};var c={"-webkit-transform":"transform"};d.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=c[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var o=e.onEnd[n];o.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},d.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},d._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var f={transitionProperty:"",transitionDuration:"",transitionDelay:""};return d.removeTransitionStyles=function(){this.css(f)},d.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},d.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},d.remove=function(){return s&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},d.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},d.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},d.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},d.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},d.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},d.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,r){return e(t,i,n,o,r)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,o){"use strict";function r(t,e){var i=n.getQueryElement(t);if(!i)return void(h&&h.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,u&&(this.$element=u(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++l;this.element.outlayerGUID=o,c[o]=this,this._create();var r=this._getOption("initLayout");r&&this.layout()}function s(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var o=m[n]||1;return i*o}var h=t.console,u=t.jQuery,d=function(){},l=0,c={};r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=r.prototype;n.extend(f,e.prototype),f.option=function(t){n.extend(this.options,t)},f._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=e[o],s=new i(r,this);n.push(s)}return n},f._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(t){return t.element})},f.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=i(this.element)},f._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},f.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},f._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},f._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},f.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},f._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},f._getContainerSize=d,f._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},f._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){s++,s==r&&i()}var o=this,r=e.length;if(!e||!r)return void i();var s=0;e.forEach(function(e){e.once(t,n)})},f.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),u)if(this.$element=this.$element||u(this.element),e){var o=u.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},f.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},f.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},f.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},f.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},f._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)):void 0},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},f._manageStamp=d,f._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t),r={left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom};return r},f.handleEvent=n.handleEvent,f.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},f.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},f.onresize=function(){this.resize()},n.debounceMethod(r,"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},f.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},f.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},f.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},f.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},f.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},f.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},f.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},f.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},f.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},f.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},f.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete c[e],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},r.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&c[e]},r.create=function(t,e){var i=s(r);return i.defaults=n.extend({},r.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},r.compatOptions),i.namespace=t,i.data=r.data,i.Item=s(o),n.htmlInit(i,t),u&&u.bridget&&u.bridget(t,i),i};var m={ms:1,s:1e3};return r.Item=o,r}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");i.compatOptions.fitWidth="isFitWidth";var n=i.prototype;return n._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},n.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,s=n-o%n,a=s&&1>s?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},n.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},n._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",r=this[o](n,t),s={x:this.columnWidth*r.col,y:r.y},a=r.y+t.size.outerHeight,h=n+r.col,u=r.col;h>u;u++)this.colYs[u]=a;return s},n._getTopColPosition=function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},n._getTopColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++)e[n]=this._getColGroupY(n,t);return e},n._getColGroupY=function(t,e){if(2>e)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},n._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols,n=t>1&&i+t>this.cols;i=n?0:i;var o=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=o?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},n._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft"),r=o?n.left:n.right,s=r+i.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var h=Math.floor(s/this.columnWidth);h-=s%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var u=this._getOption("originTop"),d=(u?n.top:n.bottom)+i.outerHeight,l=a;h>=l;l++)this.colYs[l]=Math.max(d,this.colYs[l])},n._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},n._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i});this.define=tmpDefine}).call(window)